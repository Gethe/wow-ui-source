<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\FrameXML\UI_shared.xsd">
	<Include file="Blizzard_Shared_StoreUIPatchwerk.xml" />
	<Script file="Blizzard_Shared_StoreUIInbound.lua" />
	<Script file="Blizzard_Shared_StoreUIOutbound.lua" />
	<Script file="Blizzard_Shared_StoreUISecure.lua" />

	<ScopedModifier forbidden="true" scriptsUseGivenEnv="true">
		
		<Frame name="StoreStateDriverFrame">
			<Animations>
				<AnimationGroup parentKey="NoticeTextTimer">
					<Animation duration="7.0" order="1">
						<Scripts>
							<OnFinished>
								StoreFrame_UpdateActivePanel(StoreFrame);
							</OnFinished>
						</Scripts>
					</Animation>
				</AnimationGroup>
			</Animations>
		</Frame>
		
		<Frame name="ServicesLogoutPopup" frameStrata="FULLSCREEN_DIALOG" parent="UIParent" enableMouse="true" hidden="true">
			<Size x="412" y="146"/>
			<Anchors>
				<Anchor point="CENTER" relativeTo="UIParent" relativePoint="CENTER" x="0" y="40"/>
			</Anchors>
			<Frames>
				<Frame parentKey="Background">
					<Size x="412" y="146"/>
					<Anchors>
						<Anchor point="CENTER" x="0" y="0"/>
					</Anchors>
					<Layers>
						<Layer level="ARTWORK">
							<FontString parentKey="Title" inherits="GameFontNormalMed2">
								<Size x="360" y="0"/>
								<Anchors>
									<Anchor point="TOP" x="0" y="-26"/>
								</Anchors>
							</FontString>
							<FontString parentKey="Description" inherits="GameFontNormalMed2">
								<Size x="360" y="0"/>
								<Anchors>
									<Anchor point="TOP" x="0" y="-58"/>
								</Anchors>
								<Color r="1" g="1" b="1"/>
							</FontString>
						</Layer>
					</Layers>
					<Frames>
						<Frame parentKey="Border" inherits="SecureDialogBorderTemplate"/>
						<Button parentKey="ConfirmButton" inherits="StoreButtonSmallTemplate">
							<Size x="160" y="26"/>
							<Anchors>
								<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOM" x="24" y="20"/>
							</Anchors>
							<Scripts>
								<OnClick function="ServicesLogoutPopupConfirmButton_OnClick"/>
								<OnUpdate>
									self:SetEnabled(not (UnitAffectingCombat("player") or UnitAffectingCombat("pet")));
								</OnUpdate>
							</Scripts>
						</Button>
						<Button parentKey="CancelButton" inherits="StoreButtonSmallTemplate">
							<Size x="100" y="26"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.ConfirmButton" relativePoint="RIGHT" x="12" y="0"/>
							</Anchors>
							<Scripts>
								<OnClick function="ServicesLogoutPopupCancelButton_OnClick"/>
							</Scripts>
						</Button>
					</Frames>
					<Scripts>
						<OnLoad function="ServicesLogoutPopup_OnLoad"/>
					</Scripts>
				</Frame>
			</Frames>
		</Frame>
		
		<Frame name="StoreDialog" parent="UIParent" frameStrata="DIALOG" toplevel="true" enableMouse="true" hidden="true">
			<Size x="434" y="100" />
			<!-- Anchors are set in lua -->
			<Layers>
				<Layer level="ARTWORK">
					<FontString parentKey="Description" inherits="GameFontNormalMed2">
						<Size x="380" y="0"/>
						<Anchors>
							<Anchor point="TOP" x="0" y="-26"/>
						</Anchors>
					</FontString>
				</Layer>
			</Layers>
			<Frames>
				<Frame parentKey="Border" inherits="SecureDialogBorderTemplate"/>
				<Button parentKey="Button1" inherits="StoreButtonSmallTemplate" text="OKAY" id="1">
					<Size x="120" y="22"/>
					<Anchors>
						<Anchor point="BOTTOM" x="0" y="22"/>
					</Anchors>
					<Scripts>
						<OnClick>
							self:GetParent():Hide();
						</OnClick>
					</Scripts>
					<NormalFont style="GameFontNormal" />
					<HighlightFont style="GameFontHighlight" />
					<DisabledFont style="GameFontDisable" />
				</Button>
			</Frames>
			<Scripts>
				<OnShow>
					self:SetHeight(self.Description:GetHeight() + 80);
				</OnShow>
			</Scripts>
		</Frame>
		
		<Frame name="StoreFrame" frameStrata="FULLSCREEN_DIALOG" parent="UIParent" inherits="PortraitFrameTemplateNoCloseButton, PingReceiverAttributeTemplate" enableMouse="true" hidden="true">
			<Size x="800" y="537" />
			<!--Anchored to the screen as a whole in Lua-->
			<Layers>
				<Layer level="ARTWORK">
					<FontString parentKey="PageText" inherits="GameFontHighlight" justifyH="RIGHT">
						<Anchors>
							<Anchor point="BOTTOMRIGHT" x="-98" y="29" />
						</Anchors>
					</FontString>
				</Layer>
				<Layer level="OVERLAY">
					<FontString parentKey="BrowseNotice" inherits="GameFontHighlightSmall2" justifyH="CENTER" justifyV="BOTTOM">
						<Size x="180" y="40" />
						<Anchors>
							<Anchor point="BOTTOMLEFT" x="8" y="24" />
						</Anchors>
					</FontString>
				</Layer>
			</Layers>
						
			<Frames>
				<Frame parentKey="LeftInset" useParentLevel="true" inherits="StoreInsetFrameTemplate">
					<Size x="192" y="496" />
					<Anchors>
						<Anchor point="TOPLEFT" x="4" y="-40" />
						<Anchor point="BOTTOMLEFT" x="4" y="6" />
					</Anchors>
				</Frame>
				<Frame parentKey="RightInset" useParentLevel="true" inherits="StoreInsetFrameTemplate">
					<Anchors>
						<Anchor point="TOPRIGHT" x="-6" y="-40" />
						<Anchor point="BOTTOMLEFT" relativeKey="$parent.LeftInset" relativePoint="BOTTOMRIGHT" x="2" y="0" />
					</Anchors>
				</Frame>
				<Frame parentKey="LeftDisplay" useParentLevel="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.LeftInset" relativePoint="TOPLEFT" x="3" y="-3" />
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.LeftInset" relativePoint="BOTTOMRIGHT" x="-3" y="3" />
					</Anchors>
					<Layers>
						<Layer level="BACKGROUND">
							<Texture inherits="store-category-bg" setAllPoints="true" />
						</Layer>
					</Layers>
				</Frame>
				<Frame parentKey="RightDisplay" useParentLevel="true">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.RightInset" relativePoint="TOPLEFT" x="3" y="-3" />
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.RightInset" relativePoint="BOTTOMRIGHT" x="-3" y="3" />
					</Anchors>
					<Frames>
						<Frame parentKey="ShadowOverlay" inherits="ShadowOverlayTemplate" useParentLevel="true" setAllPoints="true" />
					</Frames>
				</Frame>
				<Frame parentKey="Cover" setAllPoints="true" enableMouse="true" hidden="true">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="-20" />
						<Anchor point="BOTTOMRIGHT" x="0" y="0" />
					</Anchors>
					<Layers>
						<Layer level="ARTWORK">
							<Texture parentKey="Texture" setAllPoints="true">
								<Color r="0" g="0" b="0" a="0" />
							</Texture>
						</Layer>
					</Layers>
					<Scripts>
						<OnShow>
							self:SetFrameLevel(self:GetParent():GetFrameLevel()+3);
						</OnShow>
					</Scripts>
				</Frame>
				<Frame parentKey="Notice" frameLevel="1001" enableMouse="false" hidden="true">
					<Size x="320" y="210" />
					<Anchors>
						<Anchor point="CENTER" x="0" y="20" />
					</Anchors>
					<Layers>
						<Layer level="BACKGROUND">
							<Texture>
								<Anchors>
									<Anchor point="TOPLEFT" x="5" y="-5" />
									<Anchor point="BOTTOMRIGHT" x="-5" y="5" />
								</Anchors>
								<Color r="0" g="0" b="0" a="1" />
							</Texture>
						</Layer>
						<Layer level="BORDER">
							<Texture parentKey="Icon" inherits="store-error-icon">
								<Anchors>
									<Anchor point="CENTER" x="0" y="30" />
								</Anchors>
							</Texture>
						</Layer>
						<Layer level="ARTWORK">
							<Texture parentKey="Line" inherits="store-error-line">
								<Anchors>
									<Anchor point="CENTER" x="0" y="-40" />
								</Anchors>
							</Texture>
							<FontString parentKey="Title" inherits="GameFontNormalLarge">
								<Anchors>
									<Anchor point="BOTTOM" relativeKey="$parent.Line" relativePoint="TOP" x="0" y="6" />
								</Anchors>
							</FontString>
							<FontString parentKey="Description" inherits="GameFontHighlight" justifyV="TOP">
								<Size x="250" y="40" />
								<Anchors>
									<Anchor point="TOP" relativeKey="$parent.Line" relativePoint="BOTTOM" x="0" y="-10" />
								</Anchors>
							</FontString>
						</Layer>
					</Layers>
					<Frames>
						<Frame parentKey="Border" inherits="SecureDialogBorderNoCenterTemplate"/>
					</Frames>
					<Scripts>
						<OnShow>
							StoreFrame_UpdateCoverState();
						</OnShow>
						<OnHide function="StoreFrame_UpdateCoverState" />
					</Scripts>
				</Frame>
				<Frame parentKey="PurchaseSentFrame" enableMouse="false" hidden="true">
					<Size x="320" y="210" />
					<Anchors>
						<Anchor point="CENTER" x="0" y="20" />
					</Anchors>
					<Layers>
						<Layer level="BORDER">
							<Texture parentKey="Icon" inherits="store-icon-purchasesent">
								<Anchors>
									<Anchor point="CENTER" x="0" y="30" />
								</Anchors>
							</Texture>
						</Layer>
						<Layer level="ARTWORK">
							<FontString parentKey="Title" inherits="GameFontNormalLarge2">
								<Anchors>
									<Anchor point="BOTTOM" x="0" y="70" />
								</Anchors>
							</FontString>
						</Layer>
					</Layers>
					<Frames>
						<Frame parentKey="Border" inherits="SecureDialogBorderOpaqueTemplate"/>
						<Button parentKey="OkayButton" inherits="StoreButtonSmallTemplate">
							<Size x="120" y="22" />
							<Anchors>
								<Anchor point="BOTTOM" x="0" y="20" />
							</Anchors>
							<Scripts>
								<OnClick function="StoreFramePurchaseSentOkayButton_OnClick" />
							</Scripts>
						</Button>
					</Frames>
					<Scripts>
						<OnShow>
							StoreFrame_UpdateCoverState();
							self:SetFrameLevel(self:GetParent():GetFrameLevel()+6);
						</OnShow>
						<OnHide function="StoreFrame_UpdateCoverState" />
					</Scripts>
				</Frame>
				<Frame parentKey="ErrorFrame" enableMouse="false" hidden="true">
					<Size x="320" y="250" />
					<Anchors>
						<Anchor point="CENTER" x="0" y="40" />
					</Anchors>
					<Layers>
						<Layer level="BORDER">
							<Texture parentKey="Icon" inherits="store-error-icon">
								<Anchors>
									<Anchor point="CENTER" x="0" y="50" />
								</Anchors>
							</Texture>
						</Layer>
						<Layer level="ARTWORK">
							<Texture parentKey="Line" inherits="store-error-line">
								<Anchors>
									<Anchor point="CENTER" x="0" y="-20" />
								</Anchors>
							</Texture>
							<FontString parentKey="Title" inherits="GameFontNormalLarge">
								<Anchors>
									<Anchor point="BOTTOM" relativeKey="$parent.Line" relativePoint="TOP" x="0" y="6" />
								</Anchors>
							</FontString>
							<FontString parentKey="Description" inherits="GameFontHighlight" justifyV="TOP">
								<Size x="250" y="0" />
								<Anchors>
									<Anchor point="TOP" relativeKey="$parent.Line" relativePoint="BOTTOM" x="0" y="-6" />
								</Anchors>
							</FontString>
							<FontString parentKey="WebsiteWarning" inherits="GameFontNormalSmall" justifyH="CENTER">
								<Size x="270" y="0" />
								<Anchors>
									<Anchor point="TOP" relativeKey="$parent.Description" relativePoint="BOTTOM" x="0" y="-6" />
								</Anchors>
							</FontString>
						</Layer>
					</Layers>
					<Frames>
						<Frame parentKey="Border" inherits="SecureDialogBorderOpaqueTemplate"/>
						<Button parentKey="AcceptButton" inherits="StoreButtonSmallTemplate">
							<Size x="120" y="22" />
							<Anchors>
								<Anchor point="BOTTOM" x="0" y="20" />
							</Anchors>
							<Scripts>
								<OnClick function="StoreFrameErrorAcceptButton_OnClick" />
							</Scripts>
						</Button>
						<Button parentKey="WebsiteButton" inherits="StoreButtonSmallTemplate">
							<Size x="120" y="22" />
							<Scripts>
								<OnClick function="StoreFrameErrorWebsiteButton_OnClick" />
							</Scripts>
						</Button>
					</Frames>
					<Scripts>
						<OnShow function="StoreFrameErrorFrame_OnShow" />
						<OnHide function="StoreFrameErrorFrame_OnHide" />
					</Scripts>
				</Frame>
				<Button parentKey="BuyButton" inherits="StoreButtonTemplate" enableMouse="true">
					<Size x="140" y="30" />
					<Animations>
						<AnimationGroup parentKey="PulseAnim">
							<Alpha childKey="Flash" fromAlpha="0" toAlpha="1" duration="0.5" order="1"/>
							<Alpha childKey="Flash" fromAlpha="1" toAlpha="0" duration="0.5" order="2"/>
						</AnimationGroup>
					</Animations>
					<Anchors>
						<Anchor point="BOTTOM" relativeKey="$parent.RightInset" relativePoint="BOTTOM" x="0" y="26" />
					</Anchors>
					<Layers>
						<Layer level="OVERLAY" textureSubLevel="1">
							<Texture parentKey="Flash" file="Interface\Buttons\UI-Panel-Button-Glow" alphaMode="ADD" alpha="0">
								<Size x="171" y="46"/>
								<Anchors>
									<Anchor point="CENTER"/>
								</Anchors>
								<TexCoords left="0.0" right="0.75" top="0.0" bottom="0.609375"/>
							</Texture>
						</Layer>
					</Layers>
					<Scripts>
						<OnClick function="StoreFrameBuyButton_OnClick" />
						<OnSizeChanged>
							self.Flash:SetSize(self:GetWidth()*1.17857, self:GetHeight()*1.3);
						</OnSizeChanged>
					</Scripts>
				</Button>
				<Button parentKey="PrevPageButton">
					<Size x="32" y="32" />
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="-57" y="18" />
					</Anchors>
					<Scripts>
						<OnClick function="StoreFramePrevPageButton_OnClick" />
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Up" />
					<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Down" />
					<DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-PrevPage-Disabled" />
					<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD" />
				</Button>
				<Button parentKey="NextPageButton">
					<Size x="32" y="32" />
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="-22" y="18" />
					</Anchors>
					<Scripts>
						<OnClick function="StoreFrameNextPageButton_OnClick" />
					</Scripts>
					<NormalTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Up" />
					<PushedTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Down" />
					<DisabledTexture file="Interface\Buttons\UI-SpellbookIcon-NextPage-Disabled" />
					<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD" />
				</Button>
				<Button parentKey="CloseButton" inherits="UIPanelCloseButtonNoScripts">
					<Anchors>
						<Anchor point="TOPRIGHT" x="1" y="0"/>
					</Anchors>
					<Scripts>
						<OnClick function="StoreFrameCloseButton_OnClick" />
					</Scripts>
				</Button>

				<Frame parentKey="CategoryTreeScrollContainer" mixin="CategoryTreeScrollContainerMixin">
					<Size x="172" y="419" />
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.LeftInset" relativePoint="TOPLEFT" x="6" y="-8" />
					</Anchors>
					<Frames>
						<Frame parentKey="ScrollBox" inherits="WowScrollBoxList" >
							<Anchors>
								<Anchor point="TOPLEFT" x="0" y="0"/>
								<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
							</Anchors>
						</Frame>
						<EventFrame parentKey="ScrollBar" inherits="MinimalScrollBar">
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.ScrollBox" relativePoint="TOPRIGHT" x="0" y="0"/>
								<Anchor point="BOTTOMLEFT" relativeKey="$parent.ScrollBox" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
							</Anchors>
							<KeyValues>
								<KeyValue key="hideIfUnscrollable" value="true" type="boolean"/>
							</KeyValues>
						</EventFrame>
					</Frames>
					<Scripts>
						<OnLoad method="OnLoad"/>
						<OnHide method="OnHide"/>
						<OnEvent method="OnEvent"/>
					</Scripts>
				</Frame>

			</Frames>
			<Scripts>
				<OnLoad function="StoreFrame_OnLoad" />
				<OnEvent function="StoreFrame_OnEvent" />
				<OnShow function="StoreFrame_OnShow" />
				<OnHide function="StoreFrame_OnHide" />
				<OnAttributeChanged function="StoreFrame_OnAttributeChanged" />
				<OnMouseWheel function="StoreFrame_OnMouseWheel" />
			</Scripts>
		</Frame>
		
		<Frame name="StoreConfirmationFrame" frameStrata="FULLSCREEN_DIALOG" toplevel="true" parent="StoreFrame" inherits="GoldBorderFrameTemplate" clampedToScreen="true" hidden="true">
			<Size x="403" y="556" />
			<Layers>
				<Layer level="BACKGROUND">
					<Texture parentKey="ParchmentMiddle" file="Interface\Store\receipt-parchment-middle" horizTile="true">
						<Size x="376" y="0" />
						<Anchors>
							<Anchor point="TOP" x="0" y="-14"/>
							<Anchor point="BOTTOM" x="0" y="154"/>
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="BACKGROUND" textureSubLevel="1">
					<Texture parentKey="AlphaLayer" alphaMode="ADD">
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.ParchmentMiddle" x="0" y="-116"/>
							<Anchor point="BOTTOMRIGHT" relativeKey="$parent.ParchmentMiddle" x="0" y="62"/>
						</Anchors>
						<Color r="1" g="1" b="1" a="0.10" />
					</Texture>
				</Layer>
				<Layer level="BORDER">
					<Texture parentKey="BlueGlow" inherits="store-receipt-blueglow">
						<Size x="376" y="134" />
						<Anchors>
							<Anchor point="BOTTOM" x="0" y="14" />
						</Anchors>
					</Texture>
					<Texture parentKey="ParchmentBottom" inherits="store-receipt-parchment-bottom">
						<Anchors>
							<Anchor point="BOTTOM" x="0" y="144" />
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="BORDER" textureSubLevel="1">
					<Texture parentKey="ParchmentTop" inherits="store-receipt-parchment-top">
						<Anchors>
							<Anchor point="TOP" x="0" y="-14" />
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="ARTWORK">
					<Texture inherits="store-receipt-line">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.ParchmentMiddle" relativePoint="TOP" x="0" y="-116"/>
						</Anchors>
					</Texture>
					<Texture inherits="store-receipt-line">
						<Size x="350" y="3" />
						<Anchors>
							<Anchor point="BOTTOM" relativeKey="$parent.ParchmentMiddle" relativePoint="BOTTOM" x="0" y="60"/>
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="ARTWORK" textureSubLevel="1">
					<Texture parentKey="Icon">
						<Size x="64" y="64" />
						<Anchors>
							<Anchor point="TOP" x="-120" y="-68" />
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="ARTWORK" textureSubLevel="2">
					<Texture parentKey="IconBorder" inherits="store-itemicon-border-receipt">
						<Anchors>
							<Anchor point="TOP" x="-120" y="-64" />
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="ARTWORK" textureSubLevel="3">
					<Texture parentKey="UpgradeArrow" inherits="store-icon-upgradearrow" hidden="true">
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativeKey="$parent.IconBorder" relativePoint="BOTTOMRIGHT" x="-3" y="4"/>
						</Anchors>
					</Texture>
					<FontString parentKey="ProductName" inherits="GameFontNormalLarge2" wordwrap="true" justifyH="LEFT">
						<Size x="260" y="60" />
						<Anchors>
							<Anchor point="TOPLEFT" x="124" y="-67" />
						</Anchors>
					</FontString>
					<FontString parentKey="Title" inherits="GameFontHighlight">
						<Size x="150" y="20" />
						<Anchors>
							<Anchor point="TOP" x="0" y="-16" />
						</Anchors>
					</FontString>
				</Layer>
			</Layers>
			<Frames>
				<Frame parentKey="NoticeFrame">
					<Size x="400" y="300" />
					<Anchors>
						<Anchor point="TOP" x="0" y="-128" />
					</Anchors>
					<Layers>
						<Layer level="ARTWORK">
							<FontString parentKey="TotalLabel" inherits="GameFontBlackMedium">
								<Anchors>
									<Anchor point="BOTTOM" x="-115" y="20" />
								</Anchors>
							</FontString>
							<FontString parentKey="Price" inherits="GameFontNormalShadowHuge2">
								<Anchors>
									<Anchor point="BOTTOMRIGHT" x="-50" y="20"/>
								</Anchors>
							</FontString>
							<FontString parentKey="BrowseNotice" inherits="GameFontHighlightSmall2" justifyV="TOP">
								<Anchors>
									<Anchor point="TOPRIGHT" relativeKey="$parent.Price" relativePoint="BOTTOMRIGHT" x="0" y="-8" />
								</Anchors>
								<Color r="0" g="0" b="0"/>
							</FontString>
						</Layer>
					</Layers>
					<Frames>
						<SimpleHTML parentKey="Notice">
							<Size x="260" y="240"/>
							<Anchors>
								<Anchor point="TOP" x="0" y="-30"/>
							</Anchors>
							<Scripts>
								<OnHyperlinkClick function="GetURLIndexAndLoadURL" />
							</Scripts>
							<FontString inherits="GameFontBlackMedium" justifyH="LEFT" />
						</SimpleHTML>
					</Frames>
				</Frame>
				<Button parentKey="BuyButton" inherits="StoreGoldButtonTemplate" enableMouse="true">
					<Size x="140" y="32" />
					<Anchors>
						<Anchor point="BOTTOM" relativePoint="BOTTOM" x="0" y="38" />
					</Anchors>
					<Scripts>
						<OnClick function="StoreConfirmationFinalBuy_OnClick" />
					</Scripts>
				</Button>
				<SimpleHTML parentKey="LicenseAcceptText">
					<Size x="300" y="70" />
					<Anchors>
						<Anchor point="BOTTOM" x="0" y="50" />
					</Anchors>
					<Scripts>
						<OnHyperlinkClick function="GetURLIndexAndLoadURL" />
					</Scripts>
					<FontString inherits="GameFontNormalSmall" justifyH="LEFT" />
				</SimpleHTML>
				<CheckButton parentKey="LicenseAcceptButton" inherits="StoreCheckButtonTemplate">
					<Anchors>
						<Anchor point="TOPRIGHT" relativeKey="$parent.LicenseAcceptText" relativePoint="TOPLEFT" x="-3" y="7" />
					</Anchors>
					<Scripts>
						<OnClick>
							PlaySound(SOUNDKIT.UI_IG_STORE_PAGE_NAV_BUTTON);
							self:GetParent().BuyButton:SetEnabled(self:GetChecked());
						</OnClick>
					</Scripts>
				</CheckButton>
			</Frames>
			<Scripts>
				<OnLoad function="StoreConfirmationFrame_OnLoad" />
				<OnShow function="StoreConfirmationFrame_OnShow" />
				<OnHide function="StoreConfirmationFrame_OnHide" />
				<OnEvent function="StoreConfirmationFrame_OnEvent" />
			</Scripts>
		</Frame>
		
		<Frame name="StoreVASValidationFrame" frameStrata="FULLSCREEN_DIALOG" toplevel="true" parent="StoreFrame" inherits="GoldBorderFrameTemplate" hidden="true">
			<Size x="403" y="626" />
			<Layers>
				<Layer level="BACKGROUND">
					<Texture parentKey="ParchmentMiddle" file="Interface\Store\receipt-parchment-middle" horizTile="true">
						<Size x="376" y="0" />
						<Anchors>
							<Anchor point="TOP" x="0" y="-14"/>
							<Anchor point="BOTTOM" x="0" y="4"/>
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="BACKGROUND" textureSubLevel="1">
					<Texture parentKey="AlphaLayer" alphaMode="ADD">
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.ParchmentMiddle" x="0" y="-116"/>
							<Anchor point="BOTTOMRIGHT" relativeKey="$parent.ParchmentMiddle" x="0" y="62"/>
						</Anchors>
						<Color r="1" g="1" b="1" a="0.10" />
					</Texture>
				</Layer>
				<Layer level="BORDER">
					<Texture parentKey="ParchmentBottom" inherits="store-receipt-parchment-bottom">
						<Anchors>
							<Anchor point="BOTTOM" x="0" y="4" />
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="BORDER" textureSubLevel="1">
					<Texture parentKey="ParchmentTop" inherits="store-receipt-parchment-top">
						<Anchors>
							<Anchor point="TOP" x="0" y="-14" />
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="ARTWORK">
					<Texture parentKey="TopLine" inherits="store-receipt-line">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.ParchmentMiddle" relativePoint="TOP" x="0" y="-116"/>
						</Anchors>
					</Texture>
					<Texture parentKey="BottomLine" inherits="store-receipt-line">
						<Size x="350" y="3" />
						<Anchors>
							<Anchor point="BOTTOM" relativeKey="$parent.ParchmentMiddle" relativePoint="BOTTOM" x="0" y="120"/>
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="ARTWORK" textureSubLevel="1">
					<Texture parentKey="Icon">
						<Size x="63" y="63" />
						<Anchors>
							<Anchor point="TOP" x="-120" y="-66" />
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="ARTWORK" textureSubLevel="2">
					<Texture parentKey="IconBorder" inherits="store-itemicon-border-receipt">
						<Anchors>
							<Anchor point="TOP" x="-120" y="-64" />
						</Anchors>
					</Texture>
				</Layer>
				<Layer level="ARTWORK" textureSubLevel="3">
					<FontString parentKey="ProductName" inherits="GameFontNormalLarge2" wordwrap="true" justifyH="LEFT">
						<Size x="200" y="60" />
						<Anchors>
							<Anchor point="TOP" x="22" y="-67" />
						</Anchors>
					</FontString>
					<FontString parentKey="Title" inherits="GameFontHighlight">
						<Size x="150" y="20" />
						<Anchors>
							<Anchor point="TOP" x="0" y="-16" />
						</Anchors>
					</FontString>
					<FontString parentKey="ProductDescription" inherits="GameTooltipHeaderText" wordwrap="true" justifyH="LEFT">
						<Size x="280" y="0"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.Icon" relativePoint="BOTTOMLEFT" x="8" y="-30"/>
						</Anchors>
						<Color r="0" b="0" g="0"/>
					</FontString>
				</Layer>
			</Layers>
			<Frames>
				<SimpleHTML parentKey="Disclaimer">
					<Size x="340" y="40"/>
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent.BottomLine" relativePoint="BOTTOM" x="0" y="-9"/>
					</Anchors>
					<Scripts>
						<OnHyperlinkClick function="GetURLIndexAndLoadURL" />
					</Scripts>
					<FontString inherits="GameFontBlackSmall2" justifyH="LEFT" />
				</SimpleHTML>
				<SimpleHTML parentKey="ProductInstructions" >
					<Size x="280" y="600"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Icon" relativePoint="BOTTOMLEFT" x="8" y="-30"/>
					</Anchors>
					<Scripts>
						<OnHyperlinkClick function="GetURLIndexAndLoadURL" />
					</Scripts>
					<FontString inherits="GameFontBlackSmall2" justifyH="LEFT" />
				</SimpleHTML>
				<Frame parentKey="CharacterSelectionFrame" useParentLevel="true">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="-116"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="16"/>
					</Anchors>
					<Layers>
						<Layer level="ARTWORK" textureSubLevel="1">
							<Texture parentKey="SelectedCharacterFrame" atlas="vas-receipt-selectedcharbg" useAtlasSize="true">
								<Anchors>
									<Anchor point="TOP" x="0" y="-170" />
								</Anchors>
							</Texture>
							<FontString parentKey="SelectedCharacterName" inherits="GameFontNormalShadowOutline22">
								<Anchors>
									<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="TOPLEFT" x="72" y="-16"/>
								</Anchors>
							</FontString>
							<FontString parentKey="SelectedGuildName" inherits="GameFontNormalShadowOutline22" justifyH="LEFT">
								<Anchors>
									<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="TOPLEFT" x="72"/>
									<Anchor point="BOTTOMRIGHT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMRIGHT"/>
								</Anchors>
							</FontString>
							<FontString parentKey="SelectedCharacterDescription" inherits="GameFontHighlightSmall2" justifyH="LEFT">
								<Size x="220" y="14"/>
								<Anchors>
									<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterName" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
								</Anchors>
							</FontString>
							<FontString parentKey="NoEligibleCharactersErrorMessage" inherits="GameFontBlack" hidden="true" justifyH="LEFT">
								<Size x="300"/>
								<Anchors>
									<Anchor point="TOPLEFT" relativeKey="$parent.$parent.ProductDescription" relativePoint="BOTTOMLEFT" x="0" y="-80"/>
								</Anchors>
								<Color r="1.0" g="0.1" b="0.1"/>
							</FontString>
							<FontString parentKey="FollowGuildErrorMessage" inherits="GameFontBlack" hidden="true" justifyH="LEFT">
								<Size x="300" y="36"/>
								<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMLEFT" x="2" y="-8"/>
								</Anchors>
							</FontString>
						</Layer>
						<Layer level="ARTWORK">
							<Texture parentKey="ClassIcon" file="Interface\Glues\CharacterCreate\UI-CharacterCreate-Classes">
								<Size x="48" y="48"/>
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="LEFT" x="12" y="0"/>
								</Anchors>
							</Texture>
							<Texture parentKey="GuildIcon">
								<Size x="48" y="48"/>
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="LEFT" x="12" y="0"/>
								</Anchors>
								<TexCoords left="0.0625" right="0.9375" top="0.0625" bottom="0.9375"/>
							</Texture>
						</Layer>
					</Layers>
					<Frames>
						<SimpleHTML parentKey="ValidationDescription" hidden="true">
							<Size x="300" y="100"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMLEFT" x="0" y="-16"/>
							</Anchors>
							<Scripts>
								<OnHyperlinkClick function="GetURLIndexAndLoadURL" />
							</Scripts>
							<FontString inherits="GameFontBlackSmall2" justifyH="LEFT" />
						</SimpleHTML>
						<Frame parentKey="ChangeIconFrame" hidden="true">
							<Size x="302" y="46"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
							</Anchors>
							<Frames>
								<Frame parentKey="FromIcon" inherits="StoreVASRaceFactionIconFrameTemplate">
									<Anchors>
										<Anchor point="LEFT" x="54" y="0"/>
									</Anchors>
								</Frame>
							</Frames>
							<Layers>
								<Layer level="BACKGROUND">
									<Texture atlas="vas-receipt-greenbg" useAtlasSize="true">
										<Anchors>
											<Anchor point="CENTER"/>
										</Anchors>
									</Texture>
								</Layer>
								<Layer level="ARTWORK">
									<Texture parentKey="ArrowTex" atlas="vas-receipt-brownarrow" useAtlasSize="true" hidden="true">
										<Anchors>
											<Anchor point="LEFT" relativeKey="$parent.FromIcon" relativePoint="RIGHT" x="4" y="0"/>
										</Anchors>
									</Texture>
									<FontString parentKey="ViewRaces" inherits="GameFontBlackSmall" justifyH="CENTER" justifyV="MIDDLE">
										<Size x="90" y="26"/>
										<Anchors>
											<Anchor point="LEFT" relativeKey="$parent.ArrowTex" relativePoint="RIGHT" x="34" y="0"/>
										</Anchors>
									</FontString>
								</Layer>
							</Layers>
							<Scripts>
								<OnEnter function="VASCharacterSelectionChangeIconFrame_OnEnter"/>
								<OnLeave function="VASCharacterSelectionChangeIconFrame_OnLeave"/>
							</Scripts>
						</Frame>
						<Frame parentKey="RealmSelector" inherits="StoreDropDownMenuTemplate" enableMouse="true">
							<Size x="150" y="22"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.$parent.ProductDescription" relativePoint="BOTTOMLEFT" x="-16" y="-38"/>
							</Anchors>
							<Scripts>
								<OnLoad>
									self.Button:SetScript("OnClick", VASCharacterSelectionRealmSelector_OnClick);
								</OnLoad>
							</Scripts>
						</Frame>
						<Frame parentKey="CharacterSelector" inherits="StoreDropDownMenuTemplate" enableMouse="true">
							<Size x="150" y="22"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.RealmSelector" relativePoint="RIGHT" x="0" y="0"/>
							</Anchors>
							<Scripts>
								<OnLoad>
									self.Button:SetScript("OnClick", VASCharacterSelectionCharacterSelector_OnClick);
								</OnLoad>
							</Scripts>
						</Frame>
						<Button parentKey="ContinueButton" inherits="StoreButtonSmallTemplate" enableMouse="true">
							<Size x="120" y="30" />
							<Anchors>
								<Anchor point="BOTTOM" x="0" y="26" />
							</Anchors>
							<Scripts>
								<OnClick function="VASCharacterSelectionContinueButton_OnClick"/>
							</Scripts>
						</Button>
						<Frame parentKey="Spinner" inherits="SpinnerWithShadowTemplate" hidden="true">
							<Size x="30" y="30"/>
							<Anchors>
								<Anchor point="BOTTOM" x="0" y="31" />
							</Anchors>
						</Frame>
						<EditBox parentKey="NewCharacterName" letters="12" inherits="StoreEditBoxTemplate">
							<Size x="170" y="22"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMLEFT" x="16" y="-24"/>
							</Anchors>
							<Scripts>
								<OnTextChanged function="VASCharacterSelection_NewCharacterName_OnTextChanged"/>
								<OnEnter function="VASCharacterSelection_NewCharacterName_OnEnter"/>
								<OnLeave function="VASCharacterSelection_ClearStoreTooltip"/>
							</Scripts>
						</EditBox>
						<EditBox parentKey="NewGuildName" letters="24" inherits="StoreEditBoxTemplate">
							<Size x="240" y="22"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMLEFT" x="16" y="-24"/>
							</Anchors>
							<Scripts>
								<OnTextChanged function="VASCharacterSelection_NewGuildName_OnTextChanged"/>
								<OnEnter function="VASCharacterSelection_NewGuildName_OnEnter"/>
								<OnLeave function="VASCharacterSelection_ClearStoreTooltip"/>
							</Scripts>
						</EditBox>
						<CheckButton parentKey="RenameGuildCheckbox" inherits="StoreCheckButtonWithLabelTemplate">
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMLEFT" x="5" y="-8"/>
							</Anchors>
							<Scripts>
								<OnClick function="RenameGuildCheckbox_OnClick"/>
								<OnEnter function="VASCharacterSelection_RenameGuildCheckbox_OnEnter"/>
								<OnLeave function="VASCharacterSelection_ClearStoreTooltip"/>
							</Scripts>
						</CheckButton>
						<EditBox parentKey="RenameGuildEditbox" letters="24" inherits="StoreEditBoxTemplate">
							<Size x="140" y="22"/>
							<Anchors>
								<Anchor point="TOPRIGHT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMRIGHT" x="8" y="-12"/>
							</Anchors>
							<Scripts>
								<OnTextChanged function="VASCharacterSelection_GuildVASEditbox_OnTextChanged"/>
								<OnEnter function="VASCharacterSelection_NewGuildName_OnEnter"/>
								<OnLeave function="VASCharacterSelection_ClearStoreTooltip"/>
							</Scripts>
						</EditBox>
						<EditBox parentKey="NewGuildMaster" letters="12" inherits="StoreEditBoxWithAutoCompleteTemplate">
							<KeyValues>
								<KeyValue key="autoCompleteType" value="guildMembers" type="string"/>
							</KeyValues>
							<Anchors>
								<Anchor point="TOPRIGHT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMRIGHT" x="8" y="-52"/>
							</Anchors>
							<Scripts>
								<OnEnter function="VASCharacterSelection_NewGuildMaster_OnEnter"/>
							</Scripts>
						</EditBox>
						<EditBox parentKey="OldGuildNewName" letters="24" inherits="StoreEditBoxHorizontalLabelTemplate">
							<Anchors>
								<Anchor point="TOPRIGHT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMRIGHT" x="8" y="-92"/>
							</Anchors>
							<Scripts>
								<OnTextChanged function="VASCharacterSelection_GuildVASEditbox_OnTextChanged"/>
								<OnEnter function="VASCharacterSelection_OldGuildNewName_OnEnter"/>
								<OnLeave function="VASCharacterSelection_ClearStoreTooltip"/>
							</Scripts>
						</EditBox>
						<CheckButton parentKey="FollowGuildCheckbox" inherits="StoreCheckButtonWithLabelTemplate">
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMLEFT" x="2" y="-8"/>
							</Anchors>
							<Scripts>
								<OnClick function="FollowGuildCheckbox_OnClick"/>
							</Scripts>
						</CheckButton>
						<EditBox parentKey="TransferRealmEditbox" inherits="StoreEditBoxWithAutoCompleteTemplate">
							<KeyValues>
								<KeyValue key="autoCompleteType" value="realms" type="string"/>
							</KeyValues>
							<Anchors>
								<Anchor point="TOPRIGHT" relativeKey="$parent.SelectedCharacterFrame" relativePoint="BOTTOMRIGHT" x="8" y="-10"/>
							</Anchors>
							<Scripts>
								<OnEnter function="VASCharacterSelection_TransferRealmEditbox_OnEnter"/>
							</Scripts>
						</EditBox>
						<CheckButton parentKey="TransferAccountCheckbox" inherits="StoreCheckButtonWithLabelTemplate">
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.TransferRealmEditbox" relativePoint="BOTTOMLEFT" x="-168" y="-12"/>
							</Anchors>
							<Scripts>
								<OnClick function="TransferAccountCheckbox_OnClick"/>
							</Scripts>
						</CheckButton>
						<Frame parentKey="TransferAccountDropDown" inherits="StoreDropDownMenuTemplate" enableMouse="true">
							<Size x="150" y="22"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.TransferRealmEditbox" relativePoint="BOTTOMLEFT" x="-20" y="-12"/>
							</Anchors>
							<Scripts>
								<OnLoad>
									self.Button:SetScript("OnClick", VASCharacterSelectionTransferAccountDropDown_OnClick);
								</OnLoad>
							</Scripts>
						</Frame>
						<CheckButton parentKey="TransferFactionCheckbox" inherits="StoreCheckButtonWithLabelTemplate">
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.TransferAccountCheckbox" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
							</Anchors>
							<Frames>
								<Frame parentKey="LabelMouseOver" enableMouse="true">
									<Anchors>
										<Anchor point="TOPLEFT" relativeKey="$parent.Label" relativePoint="TOPLEFT"/>
										<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Label" relativePoint="BOTTOMRIGHT"/>
									</Anchors>
									<Scripts>
										<OnEnter function="VASCharacterSelectionChangeIconFrame_OnEnter"/>
										<OnLeave function="VASCharacterSelectionChangeIconFrame_OnLeave"/>
									</Scripts>
								</Frame>
							</Frames>
							<Scripts>
								<OnEnter function="VASCharacterSelectionChangeIconFrame_OnEnter"/>
								<OnLeave function="VASCharacterSelectionChangeIconFrame_OnLeave"/>
								<OnClick function="TransferFactionCheckbox_OnClick"/>
							</Scripts>
						</CheckButton>
						<EditBox parentKey="TransferBattlenetAccountEditbox" letters="100" inherits="StoreEditBoxTemplate">
							<Size x="220" y="22"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.TransferAccountCheckbox" relativePoint="BOTTOMLEFT" x="14" y="-20"/>
							</Anchors>
							<Layers>
								<Layer level="ARTWORK">
									<FontString inherits="GameFontBlack" text="BLIZZARD_STORE_VAS_DESTINATION_BNET_ACCOUNT">
										<Anchors>
											<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" x="-4" y="4"/>
										</Anchors>
									</FontString>
								</Layer>
							</Layers>
							<Scripts>
								<OnTextChanged function="VASCharacterSelectionTransferBattlenetAccountEditbox_OnTextChanged"/>
							</Scripts>
						</EditBox>
						<Frame parentKey="TransferBnetWoWAccountDropDown" inherits="StoreDropDownMenuTemplate" enableMouse="true">
							<Size x="150" y="22"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.TransferBattlenetAccountEditbox" relativePoint="BOTTOMLEFT" x="-20" y="-12"/>
							</Anchors>
							<Scripts>
								<OnLoad>
									self.Button:SetScript("OnClick", VASCharacterSelectionTransferBnetWoWAccountDropDown_OnClick);
								</OnLoad>
							</Scripts>
						</Frame>
					</Frames>
				</Frame>
			</Frames>
			<Scripts>
				<OnLoad function="StoreVASValidationFrame_OnLoad"/>
				<OnShow function="StoreVASValidationFrame_OnShow"/>
				<OnHide function="StoreVASValidationFrame_OnHide"/>
				<OnEvent function="StoreVASValidationFrame_OnEvent"/>
			</Scripts>
		</Frame>
		
		<Frame name="StoreTooltip" inherits="StoreTooltipBackdrop" frameStrata="TOOLTIP" toplevel="true" parent="StoreFrame" clampedToScreen="true" hidden="true">
			<Size x="0" y="200" />
			<Layers>
				<Layer level="ARTWORK">
					<FontString parentKey="ProductName" inherits="GameTooltipHeaderText" justifyH="LEFT">
						<Size x="230" y="0"/>
						<Anchors>
							<Anchor point="TOPLEFT" x="10" y="-11" />
						</Anchors>
					</FontString>
					<FontString parentKey="Description" inherits="GameFontNormal" justifyH="LEFT">
						<Size x="230" y="0"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.ProductName" relativePoint="BOTTOMLEFT" x="0" y="-2" />
						</Anchors>
					</FontString>
				</Layer>
			</Layers>
		</Frame>
		
	</ScopedModifier>
</Ui>
