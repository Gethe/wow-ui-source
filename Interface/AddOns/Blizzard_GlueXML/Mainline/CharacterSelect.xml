<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\Blizzard_SharedXML\UI.xsd">
	<Frame name="UpgradeFrameBorderedTemplate" virtual="true">
		<Layers>
			<Layer level="ARTWORK" textureSubLevel="1">
				<Texture name="$parentBorderTopLeft" file="Interface\Glues\AccountUpgrade\golden-main">
					<Size x="35" y="41"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="-15" y="15"/>
					</Anchors>
					<TexCoords left="0.00390625" right="0.14062500" top="0.33984375" bottom="0.50000000"/>
				</Texture>
				<Texture name="$parentBorderTopRight" file="Interface\Glues\AccountUpgrade\golden-main">
					<Size x="35" y="41"/>
					<Anchors>
						<Anchor point="TOPRIGHT" x="15" y="15"/>
					</Anchors>
					<TexCoords left="0.00390625" right="0.14062500" top="0.00390625" bottom="0.16406250"/>
				</Texture>
				<Texture name="$parentBorderBottomLeft" file="Interface\Glues\AccountUpgrade\golden-main">
					<Size x="35" y="41"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="-15" y="-15"/>
					</Anchors>
					<TexCoords left="0.00390625" right="0.14062500" top="0.50781250" bottom="0.66796875"/>
				</Texture>
				<Texture name="$parentBorderBottomRight" file="Interface\Glues\AccountUpgrade\golden-main">
					<Size x="35" y="41"/>
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="15" y="-15"/>
					</Anchors>
					<TexCoords left="0.00390625" right="0.14062500" top="0.17187500" bottom="0.33203125"/>
				</Texture>
				<Texture name="$parentBorderBottom" file="Interface\Glues\AccountUpgrade\golden-h" horizTile="true">
					<Size x="128" y="32"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativeTo="$parentBorderBottomLeft" relativePoint="BOTTOMRIGHT" x="0" y="-4"/>
						<Anchor point="BOTTOMRIGHT" relativeTo="$parentBorderBottomRight" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBorderTop" file="Interface\Glues\AccountUpgrade\golden-h" horizTile="true">
					<Size x="128" y="32"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parentBorderTopLeft" relativePoint="TOPRIGHT" x="0" y="4"/>
						<Anchor point="TOPRIGHT" relativeTo="$parentBorderTopRight" relativePoint="TOPLEFT" x="0" y="4"/>
					</Anchors>
					<TexCoords left="0.0" right="1.0" top="1.0" bottom="0.0"/>
				</Texture>
				<Texture name="$parentBorderLeft" file="Interface\Glues\AccountUpgrade\golden-v" vertTile="true">
					<Size x="32" y="128"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parentBorderTopLeft" relativePoint="BOTTOMLEFT" x="-1" y="0"/>
						<Anchor point="BOTTOMLEFT" relativeTo="$parentBorderBottomLeft" relativePoint="TOPLEFT" x="-1" y="0"/>
					</Anchors>
				</Texture>
				<Texture name="$parentBorderRight" file="Interface\Glues\AccountUpgrade\golden-v" vertTile="true">
					<Size x="32" y="128"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativeTo="$parentBorderTopRight" relativePoint="BOTTOMRIGHT" x="1" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativeTo="$parentBorderBottomRight" relativePoint="TOPRIGHT" x="1" y="0"/>
					</Anchors>
					<TexCoords left="1.0" right="0.0" top="0.0" bottom="1.0"/>
				</Texture>
			</Layer>
		</Layers>
	</Frame>
	<Frame name="UpgradeFrameFeatureTemplate" virtual="true">
		<Size x="195" y="50"/>
		<Layers>
			<Layer level="OVERLAY">
				<Texture name="$parentIconFrame" file="Interface\AchievementFrame\UI-Achievement-IconFrame">
					<Size x="50" y="50"/>
					<Anchors>
						<Anchor point="TOPLEFT"/>
					</Anchors>
					<TexCoords left="0" right="0.5625" top="0" bottom="0.5625"/>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<FontString name="$parentText" inherits="GlueFontNormalSmall" parentKey="text" justifyH="LEFT" justifyV="MIDDLE">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parentIconFrame" relativePoint="TOPRIGHT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT"/>
					</Anchors>
				</FontString>
				<Texture name="$parentIcon" parentKey="icon">
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="$parentIconFrame" relativePoint="TOPLEFT" x="5" y="-5"/>
						<Anchor point="BOTTOMRIGHT" relativeTo="$parentIconFrame" relativePoint="BOTTOMRIGHT" x="-5" y="5"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				local parent = self:GetParent();
				if ( not parent.featureFrames ) then
					parent.featureFrames = {};
				end
				tinsert(parent.featureFrames, self);
			</OnLoad>
		</Scripts>
	</Frame>

	<Button name="CharacterVASTemplate" mixin="CharacterVASMixin" parentArray="CharacterVAS" frameStrata="HIGH" frameBuffer="true" hidden="true" virtual="true">
		<Size x="59" y="60"/>
		<Layers>
			<Layer level="BORDER" textureSubLevel="3">
				<Texture parentKey="Icon">
					<Size x="49" y="49"/>
					<Anchors>
						<Anchor point="TOP" x="0" y="-4"/>
					</Anchors>
				</Texture>
				<MaskTexture parentKey="CircleMask" file="Interface\CharacterFrame\TempPortraitAlphaMask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
					<Size x="48" y="48"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent.Icon" x="0" y="0"/>
					</Anchors>
					<MaskedTextures>
						<MaskedTexture childKey="Icon"/>
					</MaskedTextures>
				</MaskTexture>
			</Layer>
			<Layer level="ARTWORK">
				<Texture parentKey="IconBorder" atlas="tokens-frame-small" useAtlasSize="true">
					<Anchors>
						<Anchor point="TOP"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER" textureSubLevel="2">
				<Texture parentKey="Glow" inherits="services-ring-large-glow" alpha="0.8" hidden="true">
					<Size x="196" y="193"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent.IconBorder" x="0" y="3"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="1">
				<Texture parentKey="Ring" atlas="tokens-counterbg" useAtlasSize="true" hidden="true">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" x="3" y="-6"/>
					</Anchors>
				</Texture>
				<FontString parentKey="Number" inherits="GameTooltipHeaderText" hidden="true">
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent.Ring" relativePoint="CENTER" x="0" y="2"/>
					</Anchors>
					<Color r="1.0" g="0.82" b="0"/>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="Timer" inherits="BaseTextTimer">
				<Size x="100" y="12"/>
				<Anchors>
					<Anchor point="TOP"  relativePoint="BOTTOM"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString parentKey="TimerText" inherits="GameFontNormalSmall">
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<Color r="0.1" g="1.0" b="0.1"/>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame parentKey="GlowSpin" hidden="true">
				<Size x="253" y="256"/>
				<Anchors>
					<Anchor point="CENTER" relativeKey="$parent.Glow" x="0" y="3"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture inherits="services-ring-large-glowspin" setAllPoints="true" alpha="0.09" alphaMode="ADD" />
					</Layer>
				</Layers>
				<Animations>
					<AnimationGroup parentKey="SpinAnim" looping="REPEAT">
						<Rotation order="1" duration="15" degrees="-360"/>
					</AnimationGroup>
				</Animations>
			</Frame>
			<Frame parentKey="GlowPulse" hidden="true">
				<Size x="145" y="138"/>
				<Anchors>
					<Anchor point="CENTER" relativeKey="$parent.IconBorder" x="0" y="3"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture inherits="services-ring-large-glowpulse" setAllPoints="true" alpha=".75" alphaMode="ADD" />
					</Layer>
					<Layer level="OVERLAY" textureSubLevel="1">
						<Texture inherits="services-ring-large-glowpulse" setAllPoints="true" alpha=".5" alphaMode="ADD" />
					</Layer>
				</Layers>
				<Animations>
					<AnimationGroup parentKey="PulseAnim" looping="BOUNCE">
						<Alpha fromAlpha="1" toAlpha="0" duration="1.5" order="1"/>
					</AnimationGroup>
				</Animations>
			</Frame>
			<Frame parentKey="Highlight" hidden="true">
				<Size x="72" y="60"/>
				<Anchors>
					<Anchor point="TOP"/>
				</Anchors>
				<Layers>
					<Layer level="BORDER" textureSubLevel="2">
						<Texture parentKey="Icon" atlas="services-ring" alpha="0.15" alphaMode="ADD">
							<Size x="48" y="48" />
							<Anchors>
								<Anchor point="TOP" x="0" y="-4"/>
							</Anchors>
						</Texture>
						<MaskTexture parentKey="CircleMask" file="Interface\CharacterFrame\TempPortraitAlphaMask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
							<Size x="48" y="48"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent.Icon" x="0" y="0"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="Icon"/>
							</MaskedTextures>
						</MaskTexture>
					</Layer>
				</Layers>
			</Frame>
		</Frames>
		<Scripts>
			<OnClick method="OnClick"/>
			<OnEnter method="OnEnter"/>
			<OnLeave method="OnLeave"/>
		</Scripts>
	</Button>

	<Button name="CharacterBoostTemplate" inherits="CharacterVASTemplate" mixin="CharacterBoostMixin" virtual="true"/>

	<Button name="CharacterSelectRotateButtonTemplate" inherits="CommonSquareIconButtonTemplate" registerForClicks="LeftButtonDown, LeftButtonUp" virtual="true">
		<KeyValues>
			<KeyValue key="onClickSoundKit" value="SOUNDKIT.IG_INVENTORY_ROTATE_CHARACTER" type="global"/>
			<KeyValue key="useIconAsHighlight" value="true" type="boolean"/>
		<!--
			iconAtlas: atlas for the icon and highlight on the button.
			rotationOnUpdate: function for use in OnUpdate.
			<KeyValue key="iconAtlas" value="common-icon-rotateleft" type="string"/>
			<KeyValue key="rotationOnUpdate" value="CharacterSelectRotateLeft_OnUpdate" type="global"/>
		-->
		</KeyValues>
		<Scripts>
			<OnLoad>
				IconButtonMixin.OnLoad(self);
				self:SetScript("OnUpdate", self.rotationOnUpdate);
			</OnLoad>
		</Scripts>
	</Button>

	<Frame name="CharacterSelect" toplevel="true" parent="GlueParent" inherits="CallbackRegistrantTemplate" mixin="CharacterSelectFrameMixin" setAllPoints="true" enableKeyboard="true" hidden="true" propagateMouseInput="Motion">
		<Layers>
			<Layer level="OVERLAY">
				<Texture parentKey="LeftBlackBar">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMLEFT"/>
					</Anchors>
					<Color r="0.0" g="0.0" b="0.0"/>
				</Texture>
				<Texture parentKey="RightBlackBar">
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
					<Color r="0.0" g="0.0" b="0.0"/>
				</Texture>
				<Texture parentKey="TopBlackBar">
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT"/>
					</Anchors>
					<Color r="0.0" g="0.0" b="0.0"/>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="CharacterSelectUI" name="CharacterSelectUI" inherits="CharacterSelectUITemplate" setAllPoints="true" enableMouse="true" propagateMouseInput="Motion">
				<Layers>
					<Layer level="BACKGROUND">
						<Texture parentKey="FadeInBackground" setAllPoints="true" hidden="true">
							<Color r="0" g="0" b="0"/>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<MapScene parentKey="MapScene" name="CharacterSelectMapScene" mixin="CharacterSelectMapSceneMixin" setAllPoints="true" enableMouseMotion="true" enableMouse="true">
						<Scripts>
							<OnLoad method="OnLoad"/>
							<OnUpdate method="OnUpdate"/>
							<OnModelLoaded method="OnModelLoaded"/>
						</Scripts>
					</MapScene>
					<ModelFFX parentKey="ModelFFX" name="CharacterSelectModelFFX" mixin="CharacterSelectModelFFXMixin" setAllPoints="true">
						<Scripts>
							<OnLoad method="OnLoad"/>
							<OnUpdate method="OnUpdate"/>
						</Scripts>
					</ModelFFX>
					<Frame parentKey="LogoHoist" name="LogoHoist" frameStrata="HIGH" >
						<Size x="1" y="1"/>
						<Anchors>
							<Anchor point="TOPLEFT" x="3" y="-17"/>
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture name="CharacterSelectLogo">
									<Size x="256" y="128"/>
									<Anchors>
										<Anchor point="TOPLEFT" x="0" y="15"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
					</Frame>
					<Frame name="CharacterUpgradeSecondChanceWarningFrame" frameStrata="DIALOG" hidden="true">
						<Size x="412" y="130"/>
						<Anchors>
							<Anchor point="CENTER" relativeTo="GlueParent" relativePoint="CENTER"/>
						</Anchors>
						<Frames>
							<Frame name="CharacterUpgradeSecondChanceWarningBackground">
								<Size x="412" y="130"/>
								<Anchors>
									<Anchor point="CENTER" x="0" y="0"/>
								</Anchors>
								<Layers>
									<Layer level="ARTWORK">
										<FontString parentKey="Text" inherits="GameFontNormalMed2" spacing="4" text="CHARACTER_UPGRADE_KRW_FINISH_BUTTON_POPUP_TEXT">
											<Size x="360" y="0"/>
											<Anchors>
												<Anchor point="TOP" x="0" y="-24"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<Frame parentKey="Border" inherits="DialogBorderTemplate"/>
									<Button parentKey="ConfirmButton" inherits="GlueButtonSmallTemplate" text="CHARACTER_UPGRADE_FINISH_LABEL">
										<Size x="160" y="28"/>
										<Anchors>
											<Anchor point="BOTTOMRIGHT" relativeTo="CharacterUpgradeSecondChanceWarningBackground" relativePoint="BOTTOM">
												<Offset x="20" y="16"/>
											</Anchor>
										</Anchors>
										<Scripts>
											<OnClick function="CharacterUpgradeSecondChanceWarningFrameConfirmButton_OnClick"/>
										</Scripts>
									</Button>
									<Button parentKey="CancelButton" inherits="GlueButtonSmallTemplate" text="CANCEL">
										<Size x="100" y="28"/>
										<Anchors>
											<Anchor point="LEFT" relativeKey="$parent.ConfirmButton" relativePoint="RIGHT" x="6" y="0"/>
										</Anchors>
										<Scripts>
											<OnClick function="CharacterUpgradeSecondChanceWarningFrameCancelButton_OnClick"/>
										</Scripts>
									</Button>
								</Frames>
							</Frame>
						</Frames>
					</Frame>
					<Frame name="UpgradePopupFrame" frameStrata="HIGH" hidden="true" inherits="BaseExpandableDialog" mixin="UpgradePopupFrameMixin">
						<Layers>
							<Layer level="ARTWORK">
								<FontString parentKey="Title" inherits="GameFontNormalHugeOutline" justifyH="CENTER" justifyV="TOP">
									<Size x="270" y="0"/>
									<Anchors>
										<Anchor point="TOP" x="0" y="-45"/>
									</Anchors>
								</FontString>
								<FontString parentKey="Description" inherits="GameFontNormalMed2" justifyH="CENTER" justifyV="TOP">
									<Size x="360" y="0"/>
									<Anchors>
										<Anchor point="TOP" relativeKey="$parent.Title" relativePoint="BOTTOM" x="0" y="-20"/>
									</Anchors>
									<Color r="1" g="1" b="1"/>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<Frame parentKey="Timer" inherits="BaseTextTimer">
								<Size x="300" y="12"/>
								<Anchors>
									<Anchor point="TOP" relativeKey="$parent.Title" relativePoint="BOTTOM" y="-2"/>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<FontString parentKey="TimerText" inherits="GameFontNormalSmall">
											<Anchors>
												<Anchor point="CENTER"/>
											</Anchors>
											<Color r="0.1" g="1.0" b="0.1"/>
										</FontString>
									</Layer>
								</Layers>
							</Frame>
							<Button parentKey="GetStartedButton" inherits="UIPanelButtonTemplate">
								<Size x="250" y="22"/>
								<Anchors>
									<Anchor point="TOP" relativeKey="$parent.Description" relativePoint="BOTTOM" x="0" y="-20"/>
								</Anchors>
								<Scripts>
									<OnClick function="CharacterUpgradePopup_OnStartClick"/>
									<OnEnter function="CharacterUpgradePopup_OnStartEnter"/>
									<OnLeave function="CharacterUpgradePopup_OnStartLeave"/>
								</Scripts>
							</Button>
							<Button parentKey="LaterButton" inherits="UIPanelButtonTemplate" text="CHARACTER_UPGRADE_POPUP_TRY_NEW_CLASS" motionScriptsWhileDisabled="true">
								<Size x="250" y="22"/>
								<Anchors>
									<Anchor point="TOP" relativeKey="$parent.GetStartedButton" relativePoint="BOTTOM" x="0" y="-6"/>
								</Anchors>
								<Scripts>
									<OnShow>
										self:SetEnabled(C_CharacterServices.IsTrialBoostEnabled());
									</OnShow>
									<OnEnter>
										local buttonTooltip = CHARACTER_UPGRADE_POPUP_TRY_NEW_CLASS_DISABLED_TOOLTIP;
										if C_CharacterServices.IsTrialBoostEnabled() then
											local boostLevel = C_CharacterCreation.GetTrialBoostStartingLevel();
											buttonTooltip = CHARACTER_UPGRADE_POPUP_TRY_NEW_CLASS_TOOLTIP:format(boostLevel);
										end
										GlueTooltip:SetOwner(self, "ANCHOR_RIGHT");
										GlueTooltip:SetText(buttonTooltip, nil, nil, nil, nil, true);
									</OnEnter>
									<OnLeave>
										GlueTooltip:Hide();
									</OnLeave>
									<OnClick function="CharacterUpgradePopup_OnTryNewClick"/>
								</Scripts>
							</Button>
						</Frames>
						<Scripts>
							<OnLoad>
								self.Description:SetSpacing(3);
							</OnLoad>
						</Scripts>
					</Frame>
					<Frame parentKey="VisibilityFramesContainer" name="VisibilityFramesContainer" setAllPoints="true" useParentLevel="true">
						<Layers>
							<Layer level="ARTWORK">
								<FontString name="CharSelectCharacterName" inherits="GameFontNormalHuge4Outline">
									<Anchors>
										<Anchor point="BOTTOM" x="0" y="114"/>
									</Anchors>
								</FontString>
								<FontString name="REALM_HIDDEN_ALERT" inherits="GlueFontRed" hidden="true">
									<Anchors>
										<Anchor point="BOTTOM" relativeTo="CharSelectCharacterName" relativePoint="TOP" y="15"/>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<Frame parentKey="NavBar" inherits="CharacterSelectNavBarTemplate">
								<Anchors>
									<Anchor point="TOPLEFT"/>
									<Anchor point="TOPRIGHT"/>
								</Anchors>
							</Frame>
							<Button name="CharSelectEnterWorldButton" inherits="GlueButtonBigTemplate" text="ENTER_WORLD">
								<Anchors>
									<Anchor point="BOTTOM" x="0" y="45"/>
								</Anchors>
								<Scripts>
									<OnClick>
										-- This should be disabled, but due to timing of events it may not be checked yet
										if not CharacterSelect_AllowedToEnterWorld() then
											CharacterSelect_UpdateButtonState();
											return;
										end
										CharacterSelect_EnterWorld();
									</OnClick>
								</Scripts>
							</Button>
							<Button name="CharacterSelectRotateLeft" inherits="CharacterSelectRotateButtonTemplate">
								<KeyValues>
									<KeyValue key="iconAtlas" value="common-icon-rotateleft" type="string"/>
									<KeyValue key="rotationOnUpdate" value="CharacterSelectRotateLeft_OnUpdate" type="global"/>
								</KeyValues>
								<Anchors>
									<Anchor point="TOP" relativeTo="CharSelectEnterWorldButton" relativePoint="BOTTOM" x="-21" y="4"/>
								</Anchors>
							</Button>
							<Button name="CharacterSelectRotateRight" inherits="CharacterSelectRotateButtonTemplate">
								<KeyValues>
									<KeyValue key="iconAtlas" value="common-icon-rotateright" type="string"/>
									<KeyValue key="rotationOnUpdate" value="CharacterSelectRotateRight_OnUpdate" type="global"/>
								</KeyValues>
								<Anchors>
									<Anchor point="LEFT" relativeTo="CharacterSelectRotateLeft" relativePoint="RIGHT" x="-11" y="0"/>
								</Anchors>
							</Button>
							<Button parentKey="ConfigurationWarnings" hidden="true">
								<Size x="32" y="32"/>
								<Anchors>
									<Anchor point="LEFT" relativeTo="CharSelectEnterWorldButton" relativePoint="RIGHT" x="10" y="0"/>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<Texture parentKey="PulseOverlay" setAllPoints="true" alphaMode="ADD" alpha="0" file="Interface\DialogFrame\UI-Dialog-Icon-AlertNew"/>
									</Layer>
								</Layers>
								<Animations>
									<AnimationGroup parentKey="PulseAnim" looping="REPEAT">
										<Alpha childKey="PulseOverlay" fromAlpha="0" toAlpha="1" duration="1" order="1"/>
										<Alpha childKey="PulseOverlay" fromAlpha="1" toAlpha="0" duration="1" order="2"/>
									</AnimationGroup>
								</Animations>
								<Scripts>
									<OnShow>
										self.PulseAnim:Play();
									</OnShow>
									<OnClick>
										local includeSeenWarnings = true;
										CheckSystemRequirements(includeSeenWarnings);
									</OnClick>
									<OnEnter>
										GlueTooltip:SetOwner(self, "ANCHOR_RIGHT");
										GlueTooltip:SetText(CONFIGURATION_WARNINGS_TOOLTIP);
										GlueTooltip:Show();
									</OnEnter>
									<OnLeave>
										if GlueTooltip:GetOwner() == self then
											GlueTooltip:Hide();
										end
									</OnLeave>
								</Scripts>
								<NormalTexture file="Interface\DialogFrame\UI-Dialog-Icon-AlertNew" />
								<HighlightTexture file="Interface\DialogFrame\UI-Dialog-Icon-AlertNew" alphaMode="ADD" />
							</Button>
							<Button name="CharacterSelectBackButton" inherits="GlueButtonTemplate" mixin="CharacterSelectBackButtonMixin" text="CHARACTER_SELECT_BACK">
								<Size x="188" y="42"/>
								<Anchors>
									<Anchor point="BOTTOMLEFT" x="12" y="12"/>
								</Anchors>
								<Layers>
									<Layer level="BORDER">
										<Texture parentKey="Arrow" atlas="common-icon-backarrow" useAtlasSize="false"/>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad method="OnLoad"/>
									<OnClick method="OnClick"/>
									<OnEnable method="OnEnable"/>
									<OnDisable method="OnDisable"/>
								</Scripts>
							</Button>
							<Frame parentKey="VASTokenContainer" inherits="HorizontalLayoutFrame">
								<KeyValues>
									<KeyValue key="spacing" value="0" type="number"/>
									<KeyValue key="minimumWidth" value="1" type="number"/>
									<KeyValue key="minimumHeight" value="68" type="number"/>
								</KeyValues>
								<Anchors>
									<Anchor point="TOPRIGHT" x="-12" y="-2"/>
								</Anchors>
							</Frame>
							<Button parentKey="ListToggle" mixin="CharacterSelectListExpandMixin" inherits="ExpandBarTemplate">
								<Size x="385" y="50"/>
								<Anchors>
									<Anchor point="BOTTOMRIGHT" x="-10" y="8"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<Texture parentKey="Backdrop" atlas="glues-characterSelect-listLauncher-BG" useAtlasSize="true">
											<Anchors>
												<Anchor point="RIGHT" x="-11" y="0"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="BORDER">
										<FontString parentKey="Text" inherits="GlueFontHighlightLarge" text="CHARACTER_SELECT_ALL_CHARACTERS">
											<Anchors>
												<Anchor point="RIGHT" relativeKey="$parent.ExpandButton" relativePoint="LEFT" x="-10" y="-1"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad method="OnLoad"/>
								</Scripts>
							</Button>
							<Frame parentKey="CharacterList" name="CharacterSelectCharacterFrame" inherits="CharacterSelectListTemplate">
								<Anchors>
									<Anchor point="TOPRIGHT" relativeKey="$parent.VASTokenContainer" relativePoint="BOTTOMRIGHT" x="10" y="-2"/>
									<Anchor point="BOTTOMRIGHT" relativeKey="$parent.ListToggle" relativePoint="TOPRIGHT" x="0" y="5"/>
								</Anchors>
							</Frame>
							<Frame name="CharSelectServicesCover" hidden="true">
								<Layers>
									<Layer level="BACKGROUND" textureSubLevel="-1">
										<Texture file="Interface\Store\services-vignette">
											<Anchors>
												<Anchor point="TOPLEFT" relativeTo="CharacterSelectUI"/>
												<Anchor point="BOTTOMRIGHT" relativeTo="CharacterSelectUI"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
							</Frame>
							<Frame name="CharSelectServicesFlowFrame" mixin="CharSelectServicesFlowFrameMixin" frameStrata="DIALOG" enableMouse="true" hidden="true">
								<Size x="362" y="668"/>
								<Anchors>
									<Anchor point="LEFT" x="3" y="-7"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND" textureSubLevel="1">
										<Texture parentKey="BackgroundDefault" atlas="vas-bg" setAllPoints="true" hidden="true"/>
										<Texture parentKey="BackgroundRPE" atlas="gearupdate-bg" useAtlasSize="true" hidden="true">
											<Anchors>
												<Anchor point="TOPLEFT"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="BACKGROUND" textureSubLevel="2">
										<Texture parentKey="BackgroundHeader" atlas="vas-bg-header" useAtlasSize="true">
											<Anchors>
												<Anchor point="TOPLEFT" x="6" y="-3"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="BORDER" textureSubLevel="1">
										<Texture parentKey="BackgroundDivider" atlas="vas-bg-divider">
											<Size x="348" y="14"/>
											<Anchors>
												<Anchor point="TOP" relativeKey="$parent.BackgroundHeader" relativePoint="BOTTOM" x="0" y="7"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="BORDER" textureSubLevel="2">
										<Texture parentKey="BackgroundFrame" atlas="vas-bg-frame" setAllPoints="true"/>
									</Layer>
									<Layer level="ARTWORK">
										<Texture parentKey="Icon">
											<Size x="56" y="56"/>
											<Anchors>
												<Anchor point="TOPLEFT" x="28" y="-24" />
											</Anchors>
										</Texture>
										<Texture parentKey="IconBorder" atlas="tokens-frame-regular" useAtlasSize="true">
											<Anchors>
												<Anchor point="TOPLEFT" relativeKey="$parent.Icon" x="-8" y="5"/>
											</Anchors>
										</Texture>
										<FontString parentKey="TitleText" inherits="GlueFontNormalLarge" justifyH="LEFT">
											<Size x="230" y="0"/>
											<Anchors>
												<Anchor point="TOPLEFT" relativeKey="$parent.IconBorder" relativePoint="RIGHT" x="11" y="10"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<Frame parentKey="ErrorMessageContainer" mixin="FlowErrorContainerMixin">
										<Size x="310" y="70"/>
										<Anchors>
											<Anchor point="BOTTOM" x="0" y="95"/>
										</Anchors>
										<Layers>
											<Layer level="ARTWORK">
												<FontString parentKey="Text" inherits="GameFontNormal" justifyH="CENTER" justifyV="BOTTOM" setAllPoints="true">
													<Color color="RED_FONT_COLOR"/>
												</FontString>
											</Layer>
										</Layers>
										<Scripts>
											<OnEnter method="OnEnter"/>
											<OnLeave method="OnLeave"/>
										</Scripts>
									</Frame>
									<Button parentKey="CloseButton" inherits="BigRedExitButtonTemplate">
										<Size x="32" y="32"/>
										<Anchors>
											<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="-2" y="2" />
										</Anchors>
									</Button>
									<Button parentKey="MinimizeButton" inherits="UIButtonTemplate" hidden="true">
										<Size x="32" y="32"/>
										<KeyValues>
											<KeyValue key="buttonArtKit" value="128-redbutton-minus" type="string"/>
										</KeyValues>
										<Anchors>
											<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="-10" y="-6" />
										</Anchors>
									</Button>
									<Frame name="CharacterServicesMaster">
										<Size x="350" y="558"/>
										<Anchors>
											<Anchor point="TOP" relativeKey="$parent.BackgroundHeader" relativePoint="BOTTOM" x="0" y="0"/>
										</Anchors>
										<Scripts>
											<OnLoad function="CharacterServicesMaster_OnLoad"/>
											<OnEvent function="CharacterServicesMaster_OnEvent"/>
											<OnHide function="CharacterServicesMaster_OnHide"/>
										</Scripts>
									</Frame>
									<Button parentKey="BackButton" inherits="GlueButtonSmallTemplate" text="BACK">
										<Size x="143" y="32"/>
										<Anchors>
											<Anchor point="BOTTOMLEFT" x="40" y="57"/>
										</Anchors>
										<Scripts>
											<OnClick function="CharacterServicesMasterBackButton_OnClick"/>
										</Scripts>
									</Button>
									<Button parentKey="NextButton" inherits="GlueButtonSmallTemplate" text="NEXT" hidden="true">
										<Size x="143" y="32"/>
										<Anchors>
											<Anchor point="BOTTOMRIGHT" x="-25" y="26"/>
										</Anchors>
										<Layers>
											<Layer level="OVERLAY" textureSubLevel="1">
												<Texture parentKey="Flash" file="Interface\Buttons\UI-Panel-Button-Glow" alphaMode="ADD" alpha="0">
													<Size x="166" y="43"/>
													<Anchors>
														<Anchor point="CENTER" x="-1" y="-1"/>
													</Anchors>
													<TexCoords left="0.0" right="0.75" top="0.0" bottom="0.609375"/>
												</Texture>
											</Layer>
										</Layers>
										<Animations>
											<AnimationGroup parentKey="PulseAnim" setToFinalAlpha="true">
												<Alpha childKey="Flash" fromAlpha="0" toAlpha="1" duration="0.5" order="1"/>
												<Alpha childKey="Flash" fromAlpha="1" toAlpha="0" duration="0.5" order="2"/>
											</AnimationGroup>
										</Animations>
										<Scripts>
											<OnClick function="CharacterServicesMasterNextButton_OnClick"/>
										</Scripts>
									</Button>
									<Button parentKey="FinishButton" inherits="UIPanelGoldButtonTemplate">
										<Size x="172" y="33"/>
										<Anchors>
											<Anchor point="BOTTOMRIGHT" x="-9" y="23"/>
										</Anchors>
										<Scripts>
											<OnClick function="CharacterServicesMasterFinishButton_OnClick"/>
											<OnLoad>
												self.Text:SetPoint("BOTTOM", 0, 13);
											</OnLoad>
										</Scripts>
									</Button>
								</Frames>
								<Scripts>
									<OnLoad method="OnLoad"/>
									<OnShow method="OnShow"/>
									<OnHide method="OnHide"/>
								</Scripts>
							</Frame>
							<Frame parentKey="GameEnvironmentToggleFrame" inherits="GameEnvironmentFrameTemplate, DefaultScaleFrame"/>
							<Frame parentKey="LimitedTimeEventFrame" mixin="LimitedTimeEventFrameMixin">
								<Size x="128" y="128"/>
								<Anchors>
									<Anchor point="CENTER" x="-5" y="-3" relativePoint="TOPRIGHT" relativeKey="$parent.GameEnvironmentToggleFrame.SelectWoWLabsToggle"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<Texture parentKey="GlowPulse" atlas="plunderstorm-logo-limitedtimeevent-glow-background" setAllPoints="true" alphaMode="ADD"/>
									</Layer>
									<Layer level="OVERLAY">
										<Texture parentKey="GlowTexture" atlas="plunderstorm-logo-limitedtimeevent-glow">
											<Size x="64" y="64"/>
											<Anchors>
												<Anchor point="CENTER" x="0" y="0"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
								<Frames>
									<Frame parentKey="Text" inherits="NewFeatureLabelNoAnimateTemplate" hidden="false">
										<KeyValues>
											<KeyValue key="label" value="LIMITED_TIME_EVENT" type="global"/>
										</KeyValues>
										<Anchors>
											<Anchor point="CENTER" x="0" y="0"/>
										</Anchors>
									</Frame>
								</Frames>
								<Scripts>
									<OnLoad method="OnLoad"/>
								</Scripts>
							</Frame>
							<Frame parentKey="WarningText" hidden="true">
								<Size x="340" y="20"/>
								<Anchors>
									<Anchor point="TOP" x="0" y="-65"/>
								</Anchors>
								<Layers>
									<Layer level="ARTWORK">
										<FontString parentKey="WarningString" inherits="GameFontNormalMed2" text="CHARACTER_UPGRADE_KRW_STATIC_WARNING" justifyV="TOP">
											<Size x="340" y="0"/>
											<Color r="1" g="1" b="1"/>
										</FontString>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad>
										self:SetHeight(self.WarningString:GetHeight());
									</OnLoad>
								</Scripts>
							</Frame>
							<Frame name="GameRoomBillingFrame" inherits="TooltipBackdropTemplate" frameLevel="3" hidden="true">
								<Size x="255" y="60"/>
								<Anchors>
									<!-- Anchor is also conditionally updated in lua -->
									<Anchor point="BOTTOMLEFT" relativeTo="CharacterSelectBackButton" relativePoint="TOPLEFT" x="0" y="0"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<FontString name="GameRoomBillingFrameText" inherits="GlueFontNormalSmall" justifyH="LEFT">
											<Size x="235" y="0"/>
											<Anchors>
												<Anchor point="TOPLEFT" x="13" y="-10"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<KeyValues>
									<KeyValue key="layoutType" value="TooltipGluesLayout" type="string"/>
								</KeyValues>
							</Frame>
							<Button name="CharSelectAccountUpgradeButton" inherits="GlueButtonTemplate" text="UPGRADE">
								<Size x="215" y="50"/>
								<Anchors>
									<Anchor point="TOP" relativeTo="CharacterSelectLogo" relativePoint="BOTTOM" x="0" y="-10"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<Texture name="$parentChains1" parentKey="TopChain1" file="Interface\Glues\AccountUpgrade\golden-main">
											<Size x="20" y="62"/>
											<Anchors>
												<Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="TOPLEFT" x="38" y="-15"/>
											</Anchors>
											<TexCoords left="0.148" right="0.227" top="0.508" bottom="0.777"/>
										</Texture>
										<Texture name="$parentChains2" parentKey="TopChain2" file="Interface\Glues\AccountUpgrade\golden-main">
											<Size x="20" y="62"/>
											<Anchors>
												<Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT" x="-38" y="-15"/>
											</Anchors>
											<TexCoords left="0.148" right="0.227" top="0.508" bottom="0.777"/>
										</Texture>
									</Layer>
									<Layer level="OVERLAY">
										<Texture name="$parentBorder" file="Interface\Glues\AccountUpgrade\golden-main">
											<Size x="244" y="72"/>
											<Anchors>
												<Anchor point="CENTER"/>
											</Anchors>
											<TexCoords left="0.14843750" right="0.96093750" top="0.00390625" bottom="0.28515625"/>
										</Texture>
										<Texture name="$parentGlow" inherits="UIPanelButtonHighlightTexture" hidden="true"/>
									</Layer>
								</Layers>
								<Frames>
									<Button name="$parentExpandCollapseButton" parentKey="expandCollapseButton">
										<Size x="32" y="32"/>
										<Anchors>
											<Anchor point="LEFT" relativeTo="$parent" relativePoint="RIGHT" x="-34" y="2"/>
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<Texture name="$parentIconFrame" file="Interface\AchievementFrame\UI-Achievement-IconFrame">
													<Size x="32" y="32"/>
													<Anchors>
														<Anchor point="CENTER"/>
													</Anchors>
													<TexCoords left="0" right="0.5625" top="0" bottom="0.5625"/>
												</Texture>
											</Layer>
										</Layers>
										<Scripts>
											<OnClick>
												PlaySound(SOUNDKIT.IG_MAINMENU_OPTION_CHECKBOX_ON);
		
												local isUserInput = true;
												AccountUpgradePanel_ToggleExpandState(isUserInput);
											</OnClick>
										</Scripts>
										<NormalTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Up"/>
										<PushedTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Down"/>
										<DisabledTexture file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Disabled"/>
										<HighlightTexture file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD"/>
									</Button>
									<Frame name="$parentPointerFrame" parentKey="PointerFrame" hidden="true">
										<Size x="64" y="64" />
										<Anchors>
											<Anchor point="LEFT" relativePoint="RIGHT" x="32" y="0"/>
										</Anchors>
										<Layers>
											<Layer level="BACKGROUND">
												<Texture atlas="NPE_ArrowLeft" />
											</Layer>
											<Layer level="OVERLAY">
												<Texture atlas="NPE_ArrowLeftGlow" alpha="0.75" alphaMode="ADD"/>
											</Layer>
										</Layers>
										<Animations>
											<AnimationGroup parentKey="Anim">
												<Translation offsetX="-50" duration="1" order="1" smoothing="OUT"/>
												<Alpha fromAlpha="0" toAlpha="1" duration="0.1" order="1"/>
												<Alpha fromAlpha="1" toAlpha="0" duration="0.9" startDelay="0.1" order="1" smoothing="IN"/>
												<Scripts>
													<OnLoad>
														self:Play();
													</OnLoad>
													<OnFinished>
														self:Play();
													</OnFinished>
												</Scripts>
											</AnimationGroup>
										</Animations>
									</Frame>
								</Frames>
								<Scripts>
									<OnLoad>
										self.isExpanded = GetCVarBool("expandUpgradePanel");
										self:RegisterEvent("ACCOUNT_DATA_INITIALIZED");
									</OnLoad>
									<OnShow>
										AccountUpgradePanel_UpdateExpandState();
									</OnShow>
									<OnEvent>
										if ( event == "ACCOUNT_DATA_INITIALIZED" ) then
											AccountUpgradePanel_UpdateExpandState();
										end
									</OnEvent>
									<OnClick function="CharSelectAccountUpgradeButton_OnClick"/>
								</Scripts>
							</Button>
							<Frame name="CharSelectAccountUpgradeMiniPanel" inherits="UpgradeFrameBorderedTemplate">
								<Size x="200" y="100"/>
								<Anchors>
									<Anchor point="TOP" relativeTo="CharSelectAccountUpgradeButton" relativePoint="BOTTOM" x="0" y="15"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND" textureSubLevel="-1">
										<Texture name="$parentBG" setAllPoints="true">
											<Color r="0.0" g="0.0" b="0.0"/>
										</Texture>
									</Layer>
									<Layer level="ARTWORK">
										<Texture name="$parentBanner" parentKey="banner" file="Interface\Glues\AccountUpgrade\banners">
											<Size x="198" y="138"/>
											<Anchors>
												<Anchor point="TOP" relativeTo="$parent" relativePoint="TOP" x="0" y="0"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="OVERLAY">
										<Texture name="$parentUpgradeLogo" parentKey="logo">
											<Size x="154" y="77"/>
											<Anchors>
												<Anchor point="CENTER" relativeTo="$parent" relativePoint="BOTTOM" x="0" y="0"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad>
										self:SetFrameLevel(CharSelectAccountUpgradeButton:GetFrameLevel() - 1);
									</OnLoad>
								</Scripts>
							</Frame>
							<Frame name="CharSelectAccountUpgradePanel" inherits="UpgradeFrameBorderedTemplate">
								<Size x="200" y="250"/>
								<Anchors>
									<Anchor point="TOP" relativeTo="CharSelectAccountUpgradeButton" relativePoint="BOTTOM" x="0" y="-47"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND" textureSubLevel="-1">
										<Texture name="$parentChains1" file="Interface\Glues\AccountUpgrade\golden-main">
											<Size x="20" y="67"/>
											<Anchors>
												<Anchor point="BOTTOMLEFT" relativeTo="$parent" relativePoint="TOPLEFT" x="18" y="-3"/>
											</Anchors>
											<TexCoords left="0.148" right="0.227" top="0.293" bottom="0.508"/>
										</Texture>
										<Texture name="$parentChains2" file="Interface\Glues\AccountUpgrade\golden-main">
											<Size x="20" y="67"/>
											<Anchors>
												<Anchor point="BOTTOMRIGHT" relativeTo="$parent" relativePoint="TOPRIGHT" x="-18" y="-3"/>
											</Anchors>
											<TexCoords left="0.148" right="0.227" top="0.293" bottom="0.508"/>
										</Texture>
										<Texture name="$parentBG" setAllPoints="true">
											<Color r="0.0" g="0.0" b="0.0" a="0.8"/>
										</Texture>
									</Layer>
									<Layer level="ARTWORK">
										<Texture name="$parentBanner" parentKey="banner" file="Interface\Glues\AccountUpgrade\banners">
											<Size x="198" y="138"/>
											<Anchors>
												<Anchor point="TOP" relativeTo="$parent" relativePoint="TOP" x="0" y="0"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="OVERLAY">
										<Texture name="$parentUpgradeLogo" parentKey="logo">
											<Size x="154" y="77"/>
											<Anchors>
												<Anchor point="CENTER" relativeTo="$parent" relativePoint="TOP" x="0" y="10"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
								<Frames>
									<Frame name="$parentFeature1" inherits="UpgradeFrameFeatureTemplate">
										<Anchors>
											<Anchor point="TOPLEFT" x="-5" y="-90"/>
										</Anchors>
									</Frame>
								</Frames>
							</Frame>
							<Frame name="CharacterSelectServerAlertFrame" mixin="CharacterSelectServerAlertFrameMixin" hidden="true" inherits="CollapsibleServerAlertTemplate">
								<Anchors>
									<Anchor point="TOP" relativeTo="CharacterSelectLogo" relativePoint="BOTTOM" x="0" y="-5"/>
									<Anchor point="LEFT" x="10" y="0"/>
								</Anchors>
								<Scripts>
									<OnLoad method="OnLoad"/>
									<OnEvent method="OnEvent"/>
									<OnShow method="OnShow"/>
									<OnHide method="OnHide"/>
								</Scripts>
							</Frame>

							<!-- Debug Frames -->
							<Frame name="PlayersOnServer" hidden="true" inherits="TooltipBackdropTemplate">
								<Size x="220" y="88"/>
								<KeyValues>
									<KeyValue key="layoutType" value="TooltipGluesLayout" type="string"/>
								</KeyValues>
								<Layers>
									<Layer level="ARTWORK">
										<FontString inherits="GlueFontNormal" text="PLAYERS_ON_SERVER">
											<Anchors>
												<Anchor point="TOP" x="0" y="-12"/>
											</Anchors>
										</FontString>
										<FontString inherits="GlueFontNormal" text="HORDE" parentKey="HordeText">
											<Anchors>
												<Anchor point="BOTTOMLEFT" x="70" y="38"/>
											</Anchors>
											<Color r="0.90" g="0.05" b="0.07"/>
										</FontString>
										<FontString inherits="GlueFontNormal" text="ALLIANCE" parentKey="AllianceText">
											<Anchors>
												<Anchor point="BOTTOMLEFT" x="70" y="15"/>
											</Anchors>
											<Color r="0.29" g="0.33" b="0.91"/>
										</FontString>
										<FontString inherits="GlueFontNormal" text="0" justifyH="RIGHT" parentKey="HordeCount">
											<Anchors>
												<Anchor point="BOTTOMRIGHT" x="-24" y="38"/>
											</Anchors>
											<Color r="0.90" g="0.05" b="0.07"/>
										</FontString>
										<FontString inherits="GlueFontNormal" text="0" justifyH="RIGHT" parentKey="AllianceCount">
											<Anchors>
												<Anchor point="BOTTOMRIGHT" x="-24" y="15"/>
											</Anchors>
											<Color r="0.29" g="0.33" b="0.91"/>
										</FontString>
										<Texture file="Interface\Glues\CharacterSelect\Glues-AddOn-Icons" parentKey="HordeStar">
											<Size x="16" y="16"/>
											<TexCoords left=".75" right="1" top="0" bottom="1"/>
											<Anchors>
												<Anchor point="BOTTOMRIGHT" x="-8" y="38"/>
											</Anchors>
										</Texture>
										<Texture file="Interface\Glues\CharacterSelect\Glues-AddOn-Icons" parentKey="AllianceStar">
											<Size x="16" y="16"/>
											<TexCoords left=".75" right="1" top="0" bottom="1"/>
											<Anchors>
												<Anchor point="BOTTOMRIGHT" x="-8" y="15"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
								<Frames>
									<Button name="ActivateFactionChange">
										<Size x="48" y="48"/>
										<Anchors>
											<Anchor point="BOTTOMLEFT" x="16" y="10"/>
										</Anchors>
										<Scripts>
											<OnClick>
												CharacterSelect_ActivateFactionChange();
											</OnClick>
											<OnEnter>
												GlueTooltip:SetOwner(self);
												if ( self:IsEnabled() ) then
													GlueTooltip:SetText(PAID_FACTION_CHANGE_TOOLTIP, 1.0, 1.0, 1.0);
												else
													GlueTooltip:SetText(nil, 1.0, 1.0, 1.0);
												end
											</OnEnter>
											<OnLeave>
												GlueTooltip:Hide();
											</OnLeave>
										</Scripts>
										<NormalTexture file="Interface\Buttons\UI-PaidCharacterCustomization-Button" parentKey="texture">
											<TexCoords left="0" right=".5" top=".5" bottom="1"/>
										</NormalTexture>
										<HighlightTexture file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD">
											<Size x="35" y="35"/>
											<Anchors>
												<Anchor point="CENTER"/>
											</Anchors>
										</HighlightTexture>
									</Button>
								</Frames>
							</Frame>
							<Frame name="CharacterTemplatesFrame" hidden="true" inherits="TooltipBackdropTemplate">
								<Size x="220" y="150"/>
								<KeyValues>
									<KeyValue key="layoutType" value="TooltipGluesLayout" type="string"/>
								</KeyValues>
								<Layers>
									<Layer level="ARTWORK">
										<FontString inherits="GlueFontNormal" text="TEMPLATE_CHARACTER">
											<Anchors>
												<Anchor point="TOP" x="0" y="-12"/>
											</Anchors>
										</FontString>
										<FontString inherits="GlueFontHighlightSmall" text="TEMPLATE_CHARACTER_LABEL">
											<Anchors>
												<Anchor point="TOP" x="0" y="-38"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Frames>
									<DropdownButton parentKey="Dropdown" inherits="WowStyle1DropdownTemplate">
										<Anchors>
											<Anchor point="TOP" x="0" y="-54"/>
										</Anchors>
									</DropdownButton>
									<Button parentKey="CreateTemplateButton" inherits="GlueButtonSmallTemplate" text="CREATE_CHARACTER">
										<Anchors>
											<Anchor point="BOTTOM" x="0" y="22"/>
										</Anchors>
										<Scripts>
											<OnLoad>
												self:SetWidth(self:GetTextWidth() + 50);
											</OnLoad>
										</Scripts>
									</Button>
								</Frames>
								<Scripts>
									<OnLoad function="CharacterTemplatesFrame_OnLoad"/>
									<OnShow function="CharacterTemplatesFrame_OnShow"/>
								</Scripts>
							</Frame>
							<Button name="CopyCharacterButton" mixin="CopyCharacterButtonMixin" inherits="GlueButtonSmallTemplate" hidden="true" text="COPY_CHARACTER">
								<Size x="220" y="28"/>
								<Scripts>
									<OnClick method="OnClick"/>
								</Scripts>
							</Button>
							<Frame parentKey="ToolTray" hidden="true" inherits="CharacterSelectToolTrayTemplate">
								<Anchors>
									<Anchor point="RIGHT" relativeTo="CharSelectEnterWorldButton" relativePoint="BOTTOMLEFT" x="-40" y="0"/>
									<Anchor point="BOTTOM" x="0" y="0"/>
								</Anchors>
							</Frame>
						</Frames>
					</Frame>
					<Button parentKey="VisibilityToggleButton" inherits="UIButtonTemplate">
						<Size x="42" y="42"/>
						<Anchors>
							<Anchor point="BOTTOMLEFT" x="205" y="12"/>
						</Anchors>
						<KeyValues>
							<KeyValue key="buttonArtKit" value="128-redbutton-visibilityon" type="string"/>
							<KeyValue key="tooltipText" value="TOGGLE_VISIBILITY_TOOLTIP" type="global"/>
							<KeyValue key="tooltipTextColor" value="HIGHLIGHT_FONT_COLOR" type="global"/>
							<KeyValue key="tooltipAnchor" value="ANCHOR_TOP" type="string"/>
							<KeyValue key="tooltipDisableWrapText" value="true" type="boolean"/>
						</KeyValues>
					</Button>
				</Frames>
				<Animations>
					<AnimationGroup parentKey="FadeIn" setToFinalAlpha="true">
						<Alpha fromAlpha="0" toAlpha="1" duration="0.75" order="1"/>
						<Scripts>
							<OnFinished>
								CharacterServicesMaster_UpdateServiceButton();
								CharacterSelectUI_ResetEnvironmentButton();
							</OnFinished>
						</Scripts>
					</AnimationGroup>
					<AnimationGroup parentKey="MapFadeIn" setToFinalAlpha="true">
						<Alpha childKey="FadeInBackground" fromAlpha="1" toAlpha="0" duration=".3" order="1"/>
					</AnimationGroup>
				</Animations>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad method="OnLoad" />
			<OnShow method="OnShow" />
			<OnHide method="OnHide" />
			<OnUpdate method="OnUpdate" />
			<OnKeyDown method="OnKeyDown" />
			<OnEvent method="OnEvent" />
		</Scripts>
	</Frame>
	
	<Frame name="CharacterDeleteDialog" mixin="CharacterDeletionDialogMixin" toplevel="true" parent="GlueParent" setAllPoints="true" enableMouse="true" enableKeyboard="true" frameStrata="DIALOG" hidden="true">
		<Frames>
			<Frame parentKey="Background">
				<Size x="512" y="256"/>
				<Anchors>
					<Anchor point="CENTER" x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString parentKey="Text1" inherits="GlueFontNormalLarge">
							<Size x="400" y="0"/>
							<Anchors>
								<Anchor point="TOP" x="0" y="-16"/>
							</Anchors>
						</FontString>
						<FontString parentKey="Text2" inherits="GlueFontNormalSmall" text="CONFIRM_CHAR_DELETE_INSTRUCTIONS">
							<Size x="400" y="0"/>
							<Anchors>
								<Anchor point="TOP" relativeKey="$parent.Text1" relativePoint="BOTTOM" x="0" y="-20"/>
							</Anchors>
						</FontString>
						<Texture parentKey="Icon" file="Interface\DialogFrame\UI-Dialog-Icon-AlertNew">
							<Size x="48" y="48"/>
							<Anchors>
								<Anchor point="LEFT" x="24" y="10"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="BG" inherits="DialogBorderTemplate"/>
					<Button parentKey="Button1" inherits="GlueDialogButtonTemplate" id="1" text="OKAY">
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOM">
								<Offset x="-6" y="16"/>
							</Anchor>
						</Anchors>
					</Button>
					<Button parentKey="Button2" inherits="GlueDialogButtonTemplate" id="2" text="CANCEL">
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.Button1" relativePoint="RIGHT" x="13" y="0"/>
						</Anchors>
					</Button>
				</Frames>
			</Frame>
			<EditBox parentKey="EditBox" letters="32" historyLines="1">
				<Size x="130" y="32"/>
				<Anchors>
					<Anchor point="TOP"  relativeKey="$parent.Background.Text2" relativePoint="BOTTOM" x="0" y="-5"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Left">
							<Size x="75" y="32"/>
							<Anchors>
								<Anchor point="LEFT" x="-10" y="0"/>
							</Anchors>
							<TexCoords left="0" right="0.29296875" top="0" bottom="1.0"/>
						</Texture>
						<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Right">
							<Size x="75" y="32"/>
							<Anchors>
								<Anchor point="RIGHT" x="10" y="0"/>
							</Anchors>
							<TexCoords left="0.70703125" right="1.0" top="0" bottom="1.0"/>
						</Texture>
					</Layer>
				</Layers>
				<FontString inherits="GlueFontHighlight"/>
			</EditBox>
		</Frames>
		<Scripts>
			<OnLoad method="OnLoad"/>
			<OnShow method="OnShow"/>
			<OnHide method="OnHide"/>
		</Scripts>
	</Frame>

	<Frame name="CharacterRenameDialog" toplevel="true" parent="GlueParent" setAllPoints="true" enableMouse="true" enableKeyboard="true" frameStrata="DIALOG" hidden="true">
		<Frames>
			<Frame name="CharacterRenameBackground">
				<Size x="512" y="256"/>
				<Anchors>
					<Anchor point="CENTER" x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<FontString name="CharacterRenameText1" inherits="GlueFontNormalLarge" text="CHAR_RENAME_DESCRIPTION">
							<Size x="400" y="0"/>
							<Anchors>
								<Anchor point="TOP" x="0" y="-16"/>
							</Anchors>
						</FontString>
						<FontString name="CharacterRenameText2" inherits="GlueFontNormalSmall" text="CHAR_RENAME_INSTRUCTIONS">
							<Size x="400" y="0"/>
							<Anchors>
								<Anchor point="TOP" relativeTo="CharacterRenameText1" relativePoint="BOTTOM" x="0" y="-20"/>
							</Anchors>
						</FontString>
						<Texture name="CharacterRenameAlertIcon" file="Interface\DialogFrame\UI-Dialog-Icon-AlertNew">
							<Size x="48" y="48"/>
							<Anchors>
								<Anchor point="LEFT" x="24" y="10"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="Border" inherits="DialogBorderTemplate"/>
					<Button name="CharacterRenameButton1" inherits="GlueDialogButtonTemplate" id="1" text="OKAY">
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativeTo="CharacterRenameBackground" relativePoint="BOTTOM" x="-6" y="16"/>
						</Anchors>
						<Scripts>
							<OnClick>
								if ( RenameCharacter(CharacterSelectListUtil.GetCharIDFromIndex(CharacterSelect.selectedIndex), CharacterRenameEditBox:GetText()) ) then
									CharacterRenameDialog:Hide();
								end
							</OnClick>
						</Scripts>
					</Button>
					<Button name="CharacterRenameButton2" inherits="GlueDialogButtonTemplate" id="2" text="CANCEL">
						<Anchors>
							<Anchor point="LEFT" relativeTo="CharacterRenameButton1" relativePoint="RIGHT" x="13" y="0"/>
						</Anchors>
						<Scripts>
							<OnClick>
								CharacterRenameDialog:Hide();
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
			<EditBox name="CharacterRenameEditBox" letters="12" historyLines="1">
				<Size x="130" y="32"/>
				<Anchors>
					<Anchor point="TOP" relativeTo="CharacterRenameText2" relativePoint="BOTTOM" x="0" y="-5"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Left">
							<Size x="75" y="32"/>
							<Anchors>
								<Anchor point="LEFT" x="-10" y="0"/>
							</Anchors>
							<TexCoords left="0" right="0.29296875" top="0" bottom="1.0"/>
						</Texture>
						<Texture file="Interface\ChatFrame\UI-ChatInputBorder-Right">
							<Size x="75" y="32"/>
							<Anchors>
								<Anchor point="RIGHT" x="10" y="0"/>
							</Anchors>
							<TexCoords left="0.70703125" right="1.0" top="0" bottom="1.0"/>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnEnterPressed>
						if ( RenameCharacter(CharacterSelectListUtil.GetCharIDFromIndex(CharacterSelect.selectedIndex), CharacterRenameEditBox:GetText()) ) then
							CharacterRenameDialog:Hide();
						end
					</OnEnterPressed>
					<OnEscapePressed>
						CharacterRenameDialog:Hide();
					</OnEscapePressed>
				</Scripts>
				<FontString inherits="GlueFontHighlight"/>
			</EditBox>
		</Frames>
		<Scripts>
			<OnShow>
				self:Raise();
			</OnShow>
			<OnHide>
				CharacterRenameEditBox:SetText("");
			</OnHide>
		</Scripts>
	</Frame>

	<Button name="CopyCharacterEntryTemplate" virtual="true">
		<Size x="520" y="16"/>
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="1">
				<Texture parentKey="HighlightTexture" alphaMode="ADD" hidden="true">
					<Color r="1" g="1" b="1" a=".15"/>
				</Texture>
				<Texture parentKey="SelectedTexture" alphaMode="ADD" hidden="true">
					<Color r="1" g="1" b="1" a=".3"/>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND" textureSubLevel="2">
				<FontString parentKey="Name" inherits="GameFontNormalSmall" justifyH="LEFT">
					<Size x="100" y="12"/>
					<Anchors>
						<Anchor point="LEFT" x="10" y="0"/>
					</Anchors>
				</FontString>
				<FontString parentKey="Server" inherits="GameFontNormalSmall" justifyH="LEFT">
					<Size x="150" y="12"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.Name" relativePoint="RIGHT" x="10" y="0"/>
					</Anchors>
				</FontString>
				<FontString parentKey="Class" inherits="GameFontNormalSmall" justifyH="LEFT">
					<Size x="100" y="12"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.Server" relativePoint="RIGHT" x="10" y="0"/>
					</Anchors>
				</FontString>
				<FontString parentKey="Level" inherits="GameFontNormalSmall" justifyH="LEFT">
					<Size x="50" y="12"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.Class" relativePoint="RIGHT" x="10" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnClick function="CopyCharacterEntry_OnClick"/>
			<OnEnter function="CopyCharacterEntry_OnEnter"/>
			<OnLeave function="CopyCharacterEntry_OnLeave"/>
		</Scripts>
	</Button>

	<Frame name="CopyCharacterFrame" parent="GlueParent" enableMouse="true" inherits="ButtonFrameTemplate" toplevel="true" frameStrata="DIALOG" hidden="true">
		<Size x="500" y="478"/>
		<Anchors>
			<Anchor point="CENTER" x="0" y="24"/>
		</Anchors>
		<Frames>
			<Button parentKey="SearchButton" inherits="GlueButtonSmallTemplate" text="SEARCH" hidden="true">
				<Size x="80" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" x="-4" y="4"/>
				</Anchors>
				<Scripts>
					<OnClick function="CopyCharacterSearch_OnClick"/>
				</Scripts>
			</Button>
			<Button parentKey="CopyButton" inherits="GlueButtonSmallTemplate" text="MENU_EDIT_COPY">
				<Size x="80" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="322" y="4"/>
				</Anchors>
				<Scripts>
					<OnClick function="CopyCharacterCopy_OnClick"/>
				</Scripts>
			</Button>
			<Button parentKey="CopyAccountData" inherits="GlueButtonSmallTemplate" text="COPY_ACCOUNT_DATA">
				<Size x="150" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="4" y="4"/>
				</Anchors>
				<Scripts>
					<OnClick function="CopyAccountData_OnClick"/>
				</Scripts>
			</Button>
			<Button parentKey="CopyKeyBindings" inherits="GlueButtonSmallTemplate" text="COPY_KEY_BINDINGS">
				<Size x="150" y="22"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT" x="160" y="4"/>
				</Anchors>
				<Scripts>
					<OnClick function="CopyKeyBindings_OnClick"/>
				</Scripts>
			</Button>
			<DropdownButton name="$parentRegionID" inherits="WowStyle1DropdownTemplate" parentKey="RegionID">
				<Anchors>
					<Anchor point="TOPLEFT" x="11" y="-35"/>
				</Anchors>
			</DropdownButton>
			<EditBox parentKey="RealmName" inherits="InputBoxTemplate" autoFocus="false" hidden="true">
				<Size x="200" y="16"/>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.RegionID" relativePoint="RIGHT" x="15" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString parentKey="Text" inherits="GameFontNormalSmall" justifyH="CENTER" text="REALM_NAME">
							<Size x="100" y="12"/>
							<Anchors>
								<Anchor point="TOP" x="0" y="15"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad function="CopyCharacterEditBox_OnLoad"/>
					<OnShow function="CopyCharacterEditBox_OnShow"/>
					<OnEnterPressed function="CopyCharacterEditBox_OnEnterPressed"/>
					<OnTabPressed function="CopyCharacterRealmNameEditBox_OnTabPressed"/>
				</Scripts>
				<FontString inherits="CharCopyEditBoxFont"/>
			</EditBox>
			<EditBox parentKey="CharacterName" inherits="InputBoxTemplate" autoFocus="false" hidden="true">
				<Size x="150" y="16"/>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.RealmName" relativePoint="RIGHT" x="15" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString parentKey="Text" inherits="GameFontNormalSmall" justifyH="CENTER" text="CHARACTER_NAME">
							<Size x="100" y="12"/>
							<Anchors>
								<Anchor point="TOP" x="0" y="15"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad function="CopyCharacterEditBox_OnLoad"/>
					<OnShow function="CopyCharacterEditBox_OnShow"/>
					<OnEnterPressed function="CopyCharacterEditBox_OnEnterPressed"/>
					<OnTabPressed function="CopyCharacterCharacterNameEditBox_OnTabPressed"/>
				</Scripts>
				<FontString inherits="CharCopyEditBoxFont"/>
			</EditBox>
			<Frame parentKey="ScrollBox" inherits="WowScrollBoxList">
				<Size x="450" y="382"/>
				<Anchors>
					<Anchor point="TOPLEFT" x="18" y="-66"/>
				</Anchors>
			</Frame>
			<EventFrame parentKey="ScrollBar" inherits="MinimalScrollBar">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.ScrollBox" relativePoint="TOPRIGHT" x="11" y="0"/>
					<Anchor point="BOTTOMLEFT" relativeKey="$parent.ScrollBox" relativePoint="BOTTOMRIGHT" x="11" y="-1"/>
				</Anchors>
			</EventFrame>
		</Frames>
		<Scripts>
			<OnLoad function="CopyCharacterFrame_OnLoad"/>
			<OnEvent function="CopyCharacterFrame_OnEvent"/>
			<OnShow function="CopyCharacterFrame_OnShow"/>
			<OnHide function="CopyCharacterFrame_OnHide"/>
		</Scripts>
	</Frame>
</Ui>
