<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="MainMenuBarMicroButtons.lua"/>
	
	<Frame name="MicroButtonAndBagsBar" parent="UIParent">
		<Size x="232" y="80"/>
		<Anchors>
			<Anchor point="BOTTOMRIGHT" x="-6" y="6"/>
		</Anchors>
	</Frame>

	<Button name="MainMenuBarMicroButton" inherits="QuickKeybindButtonTemplate" mixin="MainMenuBarMicroButtonMixin" motionScriptsWhileDisabled="true" virtual="true">
		<Size x="19" y="26"/>
		<Layers>
			<Layer level="OVERLAY">
				<Texture parentKey="FlashBorder" atlas="UI-HUD-MicroMenu-Highlightalert" useAtlasSize="false" alphaMode="ADD" hidden="true">
					<Size x="22" y="31"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="-2" y="4"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnEnter method="OnEnter" inherit="append"/>
			<OnShow method="OnShow" inherit="append"/>
			<OnHide method="OnHide" inherit="append"/>
			<OnEnable>
				self:SetAlpha(1);
			</OnEnable>
			<OnDisable>
				self:SetAlpha(0.5);
			</OnDisable>
			<OnLeave inherit="append">
				GameTooltip:Hide();
			</OnLeave>
		</Scripts>
	</Button>

	<Frame name="MicroMenuContainer" inherits="EditModeMicroMenuSystemTemplate" parent="UIParent" mixin="MicroMenuContainerMixin">
		<Size x="1" y="1"/>
		<Anchors>
			<Anchor point="BOTTOMRIGHT" relativeTo="MicroButtonAndBagsBar"/>
		</Anchors>
	</Frame>

	<Frame name="MicroMenu" inherits="GridLayoutFrame" parent="MicroMenuContainer" mixin="MicroMenuMixin">
		<Size x="1" y="1"/>
		<Anchors>
			<Anchor point="BOTTOMRIGHT"/>
		</Anchors>
		<KeyValues>
			<KeyValue key="childXPadding" value="1" type="number"/>
			<KeyValue key="childYPadding" value="1" type="number"/>
			<KeyValue key="isHorizontal" value="true" type="boolean"/>
			<KeyValue key="stride" value="12" type="number"/>
			<KeyValue key="layoutFramesGoingRight" value="true" type="boolean"/>
			<KeyValue key="layoutFramesGoingUp" value="false" type="boolean"/>
			<KeyValue key="numButtons" value="12" type="number"/>
		</KeyValues>
		<Frames>
			<Button name="CharacterMicroButton" inherits="MainMenuBarMicroButton" mixin="CharacterMicroButtonMixin">
				<KeyValues>
					<KeyValue key="commandName" value="TOGGLECHARACTER0" type="string"/>
					<KeyValue key="layoutIndex" value="1" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-CharacterInfo-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnMouseDown method="OnMouseDown"/>
					<OnMouseUp method ="OnMouseUp"/>
					<OnEvent method="OnEvent"/>
				</Scripts>
			</Button>
			<Button name="SpellbookMicroButton" inherits="MainMenuBarMicroButton" mixin="SpellbookMicroButtonMixin">
				<KeyValues>
					<KeyValue key="commandName" value="TOGGLESPELLBOOK" type="string"/>
					<KeyValue key="layoutIndex" value="2" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-SpellbookAbilities-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnClick method="OnClick" inherit="append"/>
					<OnEvent method="OnEvent"/>
				</Scripts>
			</Button>
			<Button name="TalentMicroButton" inherits="MainMenuBarMicroButton" mixin="TalentMicroButtonMixin">
				<KeyValues>
					<KeyValue key="commandName" value="TOGGLETALENTS" type="string"/>
					<KeyValue key="layoutIndex" value="3" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-SpecTalents-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnClick method="OnClick" inherit="append"/>
					<OnEvent method="OnEvent"/>
				</Scripts>
			</Button>
			<Button name="AchievementMicroButton" inherits="MainMenuBarMicroButton" mixin="AchievementMicroButtonMixin">
				<KeyValues>
					<KeyValue key="commandName" value="TOGGLEACHIEVEMENT" type="string"/>
					<KeyValue key="layoutIndex" value="4" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-Achievements-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnShow function="MicroButton_KioskModeDisable" inherit="append"/>
					<OnEvent method="OnEvent"/>
					<OnClick method="OnClick" inherit="append"/>
				</Scripts>
			</Button>
			<Button name="QuestLogMicroButton" inherits="MainMenuBarMicroButton" mixin="QuestLogMicroButtonMixin">
				<KeyValues>
					<KeyValue key="commandName" value="TOGGLEQUESTLOG" type="string"/>
					<KeyValue key="layoutIndex" value="5" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-Questlog-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnEvent method="OnEvent"/>
					<OnClick method="OnClick" inherit="append"/>
				</Scripts>
			</Button>
			<Button name="GuildMicroButton" inherits="MainMenuBarMicroButton" mixin="GuildMicroButtonMixin">
				<KeyValues>
					<KeyValue key="commandName" value="TOGGLEGUILDTAB" type="string"/>
					<KeyValue key="layoutIndex" value="6" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-GuildCommunities-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="NotificationOverlay" frameLevel="100" setAllPoints="true" hidden="true">
						<Layers>
							<Layer level="OVERLAY">
								<Texture parentKey="UnreadNotificationIcon" atlas="UI-HUD-MicroMenu-Communities-Icon-Notification">
									<Size x="10" y="11"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" relativePoint="TOP" x="-1" y="-1"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnEvent method="OnEvent"/>
					<OnShow function="MicroButton_KioskModeDisable" inherit="append"/>
					<OnClick method="OnClick" inherit="append"/>
				</Scripts>
			</Button>
			<Button name="LFDMicroButton" inherits="MainMenuBarMicroButton" mixin="LFDMicroButtonMixin">
				<KeyValues>
					<KeyValue key="commandName" value="TOGGLEGROUPFINDER" type="string"/>
					<KeyValue key="newbieText" value="NEWBIE_TOOLTIP_LFGPARENT" type="global"/>
					<KeyValue key="layoutIndex" value="7" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-Groupfinder-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad" />
					<OnShow function="MicroButton_KioskModeDisable" inherit="append"/>
					<OnEvent method="OnEvent"/>
					<OnClick method="OnClick" inherit="append"/>
				</Scripts>
			</Button>
			<Button name="CollectionsMicroButton" inherits="MainMenuBarMicroButton" mixin="CollectionMicroButtonMixin">
				<KeyValues>
					<KeyValue key="lastNumMountsNeedingFanfare" value="0" type="number"/>
					<KeyValue key="lastNumPetsNeedingFanfare" value="0" type="number"/>
					<KeyValue key="commandName" value="TOGGLECOLLECTIONS" type="string"/>
					<KeyValue key="layoutIndex" value="8" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-Collections-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnShow function="MicroButton_KioskModeDisable" inherit="append"/>
					<OnClick method="OnClick" inherit="append"/>
					<OnEvent method="OnEvent"/>
				</Scripts>
			</Button>
			<Button name="EJMicroButton" inherits="MainMenuBarMicroButton" mixin="EJMicroButtonMixin">
				<KeyValues>
					<KeyValue key="commandName" value="TOGGLEENCOUNTERJOURNAL" type="string"/>
					<KeyValue key="layoutIndex" value="9" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-AdventureGuide-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnShow method="OnShow" inherit="append"/>
					<OnHide method="OnHide" inherit="append"/>
					<OnEvent method="OnEvent"/>
					<OnClick method="OnClick" inherit="append"/>
				</Scripts>
			</Button>
			<Button name="HelpMicroButton" inherits="MainMenuBarMicroButton" mixin="HelpMicroButtonMixin" hidden="true">
				<KeyValues>
					<KeyValue key="tooltipText" value="HELP_BUTTON" type="global"/>
					<KeyValue key="layoutIndex" value="10" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-GameMenu-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnClick function="ToggleHelpFrame"/>
				</Scripts>
			</Button>
			<Button name="StoreMicroButton" inherits="MainMenuBarMicroButton" mixin="StoreMicroButtonMixin">
				<KeyValues>
					<KeyValue key="layoutIndex" value="11" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-Shop-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnShow function="MicroButton_KioskModeDisable" inherit="append"/>
					<OnEvent method="OnEvent"/>
					<OnClick function="ToggleStoreUI"/>
				</Scripts>
			</Button>
			<Button name="MainMenuMicroButton" inherits="MainMenuBarMicroButton" mixin="MainMenuMicroButtonMixin">
				<KeyValues>
					<KeyValue key="commandName" value="TOGGLEGAMEMENU" type="string"/>
					<KeyValue key="newbieText" value="NEWBIE_TOOLTIP_MAINMENU" type="global"/>
					<KeyValue key="layoutIndex" value="12" type="number"/>
				</KeyValues>
				<Layers>
					<Layer level="OVERLAY">
						<Texture parentKey="FlashContent" atlas="UI-HUD-MicroMenu-GameMenu-Mouseover" useAtlasSize="true" alphaMode="ADD" hidden="true"/>
						<Texture parentKey="MainMenuBarPerformanceBar" file="Interface\MainMenuBar\UI-MainMenuBar-PerformanceBar">
							<Size x="19" y="39"/>
							<Anchors>
								<Anchor point="BOTTOM" relativeTo="MainMenuMicroButton" relativePoint="BOTTOM" x="0" y="-2"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnUpdate method="OnUpdate"/>
					<OnMouseDown method="OnMouseDown"/>
					<OnMouseUp method="OnMouseUp"/>
					<OnEnter method="OnEnter"/>
					<OnLeave method="OnLeave"/>
				</Scripts>
			</Button>
		</Frames>
	</Frame>
</Ui>
