<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="ContainerFrame.lua"/>

	<DropDownToggleButton name="ContainerFramePortraitButtonTemplate" mixin="ContainerFramePortraitButtonMixin" virtual="true">
		<Size x="40" y="40"/>
		<Layers>
			<Layer level="HIGHLIGHT">
				<Texture parentKey="Highlight" atlas="bags-roundhighlight" alphaMode="ADD" setAllPoints="true" hidden="true">
					<Anchors>
						<Anchor point="CENTER" x="-3" y="3"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnMouseDown method="OnMouseDown"/>
			<OnEnter method="OnEnter" />
			<OnLeave method="OnLeave" />
			<OnShow method="OnShow" />
			<OnHide method="OnHide" />
		</Scripts>
	</DropDownToggleButton>

	<Frame name="ContainerFrameCurrencyBorderTemplate" mixin="ContainerFrameCurrencyBorderMixin" virtual="true">
		<Size y="17"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Left">
					<Size x="8" y="17"/>
					<Anchors>
						<Anchor point="LEFT"/>
					</Anchors>
				</Texture>
				<Texture parentKey="Right">
					<Size x="8" y="17"/>
					<Anchors>
						<Anchor point="RIGHT"/>
					</Anchors>
				</Texture>
				<Texture parentKey="Middle">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Left" relativePoint="TOPRIGHT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Right" relativePoint="BOTTOMLEFT"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad method="OnLoad"/>
		</Scripts>
	</Frame>

	<Frame name="ContainerMoneyFrameTemplate" inherits="SmallMoneyFrameTemplate" virtual="true">
		<KeyValues>
			<KeyValue key="showCurrencyTracking" value="true" type="boolean"/>
		</KeyValues>
		<Frames>
			<Frame parentKey="Border" inherits="ContainerFrameCurrencyBorderTemplate">
				<KeyValues>
					<KeyValue key="leftEdge" value="common-coinbox-left" type="string"/>
					<KeyValue key="rightEdge" value="common-coinbox-right" type="string"/>
					<KeyValue key="centerEdge" value="_common-coinbox-center" type="string"/>
				</KeyValues>
				<Anchors>
					<Anchor point="LEFT" />
					<Anchor point="RIGHT" />
				</Anchors>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				SmallMoneyFrame_OnLoad(self);
				MoneyFrame_SetType(self, "PLAYER");
				MoneyFrame_SetMaxDisplayWidth(self, 168);
			</OnLoad>
		</Scripts>
	</Frame>

	<Frame name="ContainerFrameBankTemplate" inherits="ContainerFrameTemplate" virtual="true">
		<KeyValues>
			<KeyValue key="canUseForBankBag" value="true" type="boolean"/>
		</KeyValues>
	</Frame>

	<Frame name="ContainerFrameReagentBagTemplate" inherits="ContainerFrameTemplate" virtual="true">
		<KeyValues>
			<KeyValue key="canUseForReagentBag" value="true" type="boolean"/>
		</KeyValues>
	</Frame>

	<Frame name="ContainerFrameBackpackTemplate" inherits="ContainerFrameTemplate" mixin="ContainerFrameBackpackDerivedMixin" virtual="true">
		<Frames>
			<Frame name="$parentMoneyFrame" parentKey="MoneyFrame" inherits="ContainerMoneyFrameTemplate"/>
		</Frames>
		<Scripts>
			<OnHide method="OnHide"/>
			<OnShow method="OnShow"/>
		</Scripts>
	</Frame>

	<Frame name="ContainerFrame1" inherits="ContainerFrameBackpackTemplate"/>
	<Frame name="ContainerFrame2" inherits="ContainerFrameTemplate"/>
	<Frame name="ContainerFrame3" inherits="ContainerFrameTemplate"/>
	<Frame name="ContainerFrame4" inherits="ContainerFrameTemplate"/>
	<Frame name="ContainerFrame5" inherits="ContainerFrameTemplate"/>
	<Frame name="ContainerFrame6" inherits="ContainerFrameReagentBagTemplate"/>
	<Frame name="ContainerFrame7" inherits="ContainerFrameBankTemplate"/>
	<Frame name="ContainerFrame8" inherits="ContainerFrameBankTemplate"/>
	<Frame name="ContainerFrame9" inherits="ContainerFrameBankTemplate"/>
	<Frame name="ContainerFrame10" inherits="ContainerFrameBankTemplate"/>
	<Frame name="ContainerFrame11" inherits="ContainerFrameBankTemplate"/>
	<Frame name="ContainerFrame12" inherits="ContainerFrameBankTemplate"/>
	<Frame name="ContainerFrame13" inherits="ContainerFrameBankTemplate"/>

	<Frame name="ContainerFrameCombinedBags" inherits="PortraitFrameFlatTemplate" mixin="ContainerFrameCombinedBagsDerivedMixin" parent="UIParent" frameStrata="MEDIUM" toplevel="true" movable="true" enableMouse="true" hidden="true">
		<KeyValues>
			<KeyValue key="onCloseCallback" value="ContainerFrameCombinedBagsMixin.Close" type="global"/> <!-- NOTE: Will pass close button as first argument, use a function that doesn't care about that -->
			<KeyValue key="layoutType" value="HeldBagLayout" type="string"/>
		</KeyValues>
		<Frames>
			<DropDownToggleButton name="$parentPortraitButton" parentKey="PortraitButton" inherits="ContainerFramePortraitButtonTemplate"/>
			<Frame name="$parentFilterDropDown" parentKey="FilterDropDown" inherits="UIDropDownMenuTemplate"/>

			<Frame parentKey="MoneyFrame" inherits="ContainerMoneyFrameTemplate"/>
		</Frames>
		<Scripts>
			<OnEvent function="ContainerFrame_OnEvent"/>
			<OnLoad method="OnLoad"/>
			<OnHide method="OnHide"/>
			<OnShow method="OnShow"/>
		</Scripts>
	</Frame>

	<EditBox name="BagItemSearchBox" inherits="BagSearchBoxTemplate" parent="ContainerFrame1" letters="15" hidden="true">
		<Size x="96" y="18"/>
	</EditBox>

	<Button name="BagItemAutoSortButton" parent="ContainerFrame1" hidden="true">
		<Size x="28" y="26"/>
		<NormalTexture atlas="bags-button-autosort-up"/>
		<PushedTexture atlas="bags-button-autosort-down"/>
		<HighlightTexture file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD">
			<Size x="24" y="23"/>
			<Anchors>
				<Anchor point="CENTER" x="0" y="0"/>
			</Anchors>
		</HighlightTexture>
		<Scripts>
			<OnClick>
				PlaySound(SOUNDKIT.UI_BAG_SORTING_01);
				C_Container.SortBags();
			</OnClick>
			<OnEnter>
				GameTooltip:SetOwner(self);
				GameTooltip_SetTitle(GameTooltip, BAG_CLEANUP_BAGS, HIGHLIGHT_FONT_COLOR);
				GameTooltip_AddNormalLine(GameTooltip, BAG_CLEANUP_BAGS_DESCRIPTION);
				GameTooltip:Show();
			</OnEnter>
			<OnLeave function="GameTooltip_Hide"/>
		</Scripts>
	</Button>
</Ui>
